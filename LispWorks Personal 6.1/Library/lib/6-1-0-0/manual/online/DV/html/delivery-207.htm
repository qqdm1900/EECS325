<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="delivery.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 8.3  LispWorks executable corrupted
</TITLE>

<LINK REL="next" HREF="delivery-208.htm" TYPE="text/html">
<LINK REL="prev" HREF="delivery-206.htm" TYPE="text/html">
<LINK REL="up" HREF="delivery-198.htm" TYPE="text/html">
<LINK REL="top" HREF="delivery.htm" TYPE="text/html">
<LINK REL="contents" HREF="delivery-2.htm" TYPE="text/html">
<LINK REL="index" HREF="delivery-294.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="delivery.htm">LispWorks Delivery User Guide</A> &gt; <A HREF="delivery-198.htm">8 Delivery on Linux, FreeBSD, x86/x64 Solaris and Unix</A><BR><BR>
</DIV><A HREF="delivery-208.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="delivery-206.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="delivery-198.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="delivery.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="delivery-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="delivery-294.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H3 CLASS="FM1Heading">
<A NAME="pgfId-863088"></A>8.3  <A NAME="marker-863231"></A>LispWorks executable corrupted</H3>
<P CLASS="Body">
<A NAME="pgfId-863141"></A>After an initially sucessful installation of LispWorks for Linux, the LispWorks executable may appear to be corrupted:</P>
<PRE CLASS="Code-first"><A NAME="pgfId-863154"></A>$ lispworks-6-1-0-amd64-linux</PRE>
<PRE CLASS="Code-last"><A NAME="pgfId-863091"></A>Lisp executable apparently corrupted. (Truncated?) Cannot restart.</PRE>
<P CLASS="Body">
<A NAME="pgfId-863163"></A>The executable is reduced in size, typically to a few 10Kb. This problem, which has been seen on various Linux machines, is caused by the <CODE CLASS="Code">
prelink</CODE>
 cron job, which does not understand Lisp executables.</P>
<P CLASS="Body">
<A NAME="pgfId-863164"></A>Another error message seen attempting to run a saved LispWorks executable on Fedora 14 was</P>
<CODE CLASS="Code-line">
<A NAME="pgfId-863171"></A>Reading LispWorks file lw-6-0-1: failed to find trailer, error -101</CODE>
<P CLASS="Body">
<A NAME="pgfId-863109"></A>To prevent this happening, add descriptions of your LispWorks executables to the end of the file <CODE CLASS="Code">
/etc/prelink.conf</CODE>
. For example, this will match the default names:</P>
<CODE CLASS="Code-line">
<A NAME="pgfId-863111"></A>-b lispworks-*-linux</CODE>
<P CLASS="Body">
<A NAME="pgfId-863113"></A>Then the truncated LispWorks executables need to be reinstalled.</P>
<P CLASS="Body">
<A NAME="pgfId-863115"></A>The LispWorks for Linux rpm installer writes a line in <CODE CLASS="Code">
/etc/prelink.conf</CODE>
 which protects the released image. However this does not protect LispWorks images or runtime exectables that you have saved, because the name will differ. If you distribute LispWorks for Linux runtimes you should consider protecting them adding a suitable line in <CODE CLASS="Code">
/etc/prelink.conf</CODE>
 at installation time.</P>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">LispWorks Delivery User Guide - 13 Dec 2011</I></P>
<P><A HREF="delivery-208.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="delivery-206.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="delivery-198.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="delivery.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="delivery-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="delivery-294.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
