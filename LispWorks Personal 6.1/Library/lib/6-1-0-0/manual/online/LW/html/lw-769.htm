<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="lw.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 create-temp-file
</TITLE>

<LINK REL="next" HREF="lw-770.htm" TYPE="text/html">
<LINK REL="prev" HREF="lw-768.htm" TYPE="text/html">
<LINK REL="up" HREF="lw-744.htm" TYPE="text/html">
<LINK REL="top" HREF="lw.htm" TYPE="text/html">
<LINK REL="contents" HREF="lw-2.htm" TYPE="text/html">
<LINK REL="index" HREF="lw-1525.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="lw.htm">LispWorks User Guide and Reference Manual</A> &gt; <A HREF="lw-744.htm">32 The HCL Package</A><BR><BR>
</DIV><A HREF="lw-770.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-768.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-744.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-1680991"></A><A NAME="31204"></A>create<A NAME="marker-1683949"></A>-temp<A NAME="marker-1683958"></A>-file</H4>
<P CLASS="REntry2">
<A NAME="pgfId-1680992"></A><A NAME="99702"></A>open<A NAME="marker-1683954"></A>-temp<A NAME="marker-1683960"></A>-file</P>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-1680993"></A>Functions</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1680994"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-1680995"></A>Creates a &quot;temp file&quot; and returns a pathname or a stream to it.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1684100"></A>Package</H5>
<P CLASS="RSignature">
<A NAME="pgfId-1684101"></A>hcl</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1680996"></A>Signature</H5>
<P CLASS="RSignature">
<A NAME="pgfId-1680997"></A>create-temp-file &amp;key <EM CLASS="Variable">
file-type</EM>
 <EM CLASS="Variable">
directory</EM>
 <EM CLASS="Variable">
prefix</EM>
 =&gt; <EM CLASS="Variable">
pathname</EM>
</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1699904"></A>Signature</H5>
<P CLASS="RSignature">
<A NAME="pgfId-1680998"></A>open-temp-file &amp;key <EM CLASS="Variable">
file-type</EM>
 <EM CLASS="Variable">
element-type</EM>
 <EM CLASS="Variable">
directory</EM>
 <EM CLASS="Variable">
prefix</EM>
 <EM CLASS="Variable">
delete-when-close</EM>
 <EM CLASS="Variable">
external-format</EM>
 =&gt; <EM CLASS="Variable">
stream</EM>
</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1680999"></A>Arguments</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1681000"></A><EM CLASS="Variable">
file-type</EM>
</P>
<P CLASS="RDescription-C">A string or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1681001"></A><EM CLASS="Variable">
element-type</EM>
</P>
<P CLASS="RDescription-C">A type-specifier.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1681002"></A><EM CLASS="Variable">
directory</EM>
</P>
<P CLASS="RDescription-C">A pathname specifier.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1681003"></A><EM CLASS="Variable">
prefix</EM>
</P>
<P CLASS="RDescription-C">A string or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1681004"></A><EM CLASS="Variable">
delete-when-close</EM>
</P>
<P CLASS="RDescription-C">A generalized boolean.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1681005"></A><EM CLASS="Variable">
external-format</EM>
</P>
<P CLASS="RDescription-C">An external file format designator.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1681006"></A>Values</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1683193"></A><EM CLASS="Variable">
pathname</EM>
</P>
<P CLASS="RDescription-C">A pathname.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1681007"></A><EM CLASS="Variable">
tream</EM>
</P>
<P CLASS="RDescription-C">An I/O stream.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1681008"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-1681009"></A>The function <CODE CLASS="Code">
open-temp-file</CODE>
 opens a &quot;temp file&quot;. This is a new file in the &quot;temp directory&quot; which is guaranteed to be new. Its name contains a random element. The permissions of the file are read-write for the user only.</P>
<P CLASS="RBody">
<A NAME="pgfId-1681010"></A><EM CLASS="Variable">
file-type</EM>
 is the file type of the name. The default value of <EM CLASS="Variable">
file-type</EM>
 is &quot;tmp&quot;.</P>
<P CLASS="RBody">
<A NAME="pgfId-1681011"></A><EM CLASS="Variable">
directory</EM>
, if supplied, is the directory to create the file in. It defaults to the default temp directory, which is what <A HREF="lw-801.htm#80642" CLASS="XRef">get-temp-directory</A> returns, which defaults to what the Operating System uses as the temp directory.</P>
<P CLASS="RBody">
<A NAME="pgfId-1681012"></A><EM CLASS="Variable">
prefix</EM>
 is used as the first part of the file name. The default prefix is <CODE CLASS="Code">
&quot;lwtemp_</CODE>
<EM CLASS="Variable">
machinename</EM>
<CODE CLASS="Code">
_</CODE>
<EM CLASS="Variable">
pid</EM>
<CODE CLASS="Code">
&quot;</CODE>
. More characters are appended to make the name unique and random.</P>
<P CLASS="RBody">
<A NAME="pgfId-1681013"></A>If <EM CLASS="Variable">
delete-when-close</EM>
 is non-nil, when the stream <EM CLASS="Variable">
stream</EM>
 that is returned is closed, the system tries to delete the file quietly.  That is, it tries to avoid giving an error if it fails.</P>
<P CLASS="RBody">
<A NAME="pgfId-1681014"></A><EM CLASS="Variable">
element-type</EM>
 and <EM CLASS="Variable">
external-format</EM>
 are interpreted the same way as in <A HREF="lw-659.htm#39723" CLASS="XRef">open</A>.</P>
<P CLASS="RBody">
<A NAME="pgfId-1681015"></A>The stream that is returned is an I/O stream.</P>
<P CLASS="RBody">
<A NAME="pgfId-1681016"></A>The function <CODE CLASS="Code">
create-temp-file</CODE>
 creates a new temp file and returns the <EM CLASS="Variable">
pathname</EM>
 for it. <CODE CLASS="Code">
create-temp-file</CODE>
 behaves exactly like <CODE CLASS="Code">
open-temp-file</CODE>
, as described above, except that it returns a pathname rather than a stream to the new file. </P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1681018"></A>Notes</H5>
<OL>
<LI CLASS="RStep-1">
<A NAME="pgfId-1681019"></A><CODE CLASS="Code">
pathname</CODE>
 can be called to find the pathname that was used in <CODE CLASS="Code">
open-temp-file</CODE>
. The file can be guaranteed to be new only if the temp directory is configured correctly.</LI>
<LI CLASS="RStep">
<A NAME="pgfId-1681020"></A>The default &quot;temp directory&quot; can be found by using <A HREF="lw-801.htm#80642" CLASS="XRef">get-temp-directory</A>.</LI>
<LI CLASS="RStep">
<A NAME="pgfId-1681021"></A>When <EM CLASS="Variable">
delete-when-close</EM>
 is non-nil, it tries to delete the file when the stream is closed, but that does not necessarily succeed. On Microsoft Windows it certainly fails when the file is still opened (for example, by another stream in the same process or another process)</LI>
</OL>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1681022"></A>See also</H5>
<P CLASS="RBody">
<A NAME="pgfId-1681023"></A><A HREF="lw-801.htm#80642" CLASS="XRef">get-temp-directory</A><BR>
<A HREF="lw-659.htm#39723" CLASS="XRef">open</A><BR>
<A HREF="lw-1434.htm#99167" CLASS="XRef">set-temp-directory</A></P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">LispWorks User Guide and Reference Manual - 21 Dec 2011</I></P>
<P><A HREF="lw-770.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-768.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-744.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
