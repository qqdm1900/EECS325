<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="lw.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 23.6.2  Startup relocation of 32-bit LispWorks
</TITLE>

<LINK REL="next" HREF="lw-525.htm" TYPE="text/html">
<LINK REL="prev" HREF="lw-523.htm" TYPE="text/html">
<LINK REL="up" HREF="lw-522.htm" TYPE="text/html">
<LINK REL="top" HREF="lw.htm" TYPE="text/html">
<LINK REL="contents" HREF="lw-2.htm" TYPE="text/html">
<LINK REL="index" HREF="lw-1525.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="lw.htm">LispWorks User Guide and Reference Manual</A> &gt; <A HREF="lw-512.htm">23 LispWorks' Operating Environment</A> &gt; <A HREF="lw-522.htm">23.6  Startup relocation</A><BR><BR>
</DIV><A HREF="lw-525.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-523.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-522.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H3 CLASS="FM2Heading">
<A NAME="pgfId-895407"></A>23.6.2  <A NAME="80023"></A>Startup<A NAME="marker-900443"></A> relocation of <A NAME="marker-900824"></A>32-bit LispWorks</H3>
<P CLASS="Body">
<A NAME="pgfId-895408"></A>32-bit LispWorks on x86 platforms maps its heap in one continuous block, and then grows upwards from the top. When it reaches a region that it cannot use, it can skip it. On Windows and Macintosh this skipping is safe, because LispWorks can safely detect regions of memory that it cannot use. On other x86 platforms, both the initial mapping and the furthur growing cannot safely detect when they overwrite some other code.</P>
<P CLASS="Body">
<A NAME="pgfId-895409"></A><EM CLASS="Variable">
BaseAddress</EM>
 (passed on command line with <CODE CLASS="Code">
--relocate-image</CODE>
 or as the second argument to <A HREF="lw-1520.htm#65792" CLASS="XRef">InitLispWorks</A>) tells LispWorks where to map the heap. On Windows and Macintosh, if the address is already used the heap will be mapped elsewhere. On other platforms, the mapping always works, and may destroy what is already mapped at that address.</P>
<P CLASS="Body">
<A NAME="pgfId-895410"></A><EM CLASS="Variable">
ReserveSize</EM>
 (passed on command line with <CODE CLASS="Code">
--reserve-size</CODE>
 or as the third argument to <A HREF="lw-1520.htm#65792" CLASS="XRef">InitLispWorks</A>) tells LispWorks how much additional memory to reserve. Reservation is properly supported on Windows and Macintosh, though the actual reserved size can be smaller if it fails to reserve as much as was requested. On platforms that do not support reservation (that is, not Windows or Macintosh), the reservation is done by using <CODE CLASS="Code">
mmap</CODE>
 with protection PROT_NONE.</P>
<H4 CLASS="FM3HeadingTOC">
<A HREF="lw-525.htm#pgfId-895412" CLASS="Hypertext">23.6.2.1  Linux</A></H4>
<H4 CLASS="FM3HeadingTOC">
<A HREF="lw-526.htm#pgfId-895420" CLASS="Hypertext">23.6.2.2  FreeBSD</A></H4>
<H4 CLASS="FM3HeadingTOC">
<A HREF="lw-527.htm#pgfId-898802" CLASS="Hypertext">23.6.2.3  x86/x64 Solaris</A></H4>
<H4 CLASS="FM3HeadingTOC">
<A HREF="lw-528.htm#pgfId-895426" CLASS="Hypertext">23.6.2.4  Windows and Macintosh</A></H4>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">LispWorks User Guide and Reference Manual - 21 Dec 2011</I></P>
<P><A HREF="lw-525.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-523.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-522.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
