<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="lw.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 9.7  Optimizing your code
</TITLE>

<LINK REL="next" HREF="lw-115.htm" TYPE="text/html">
<LINK REL="prev" HREF="lw-113.htm" TYPE="text/html">
<LINK REL="up" HREF="lw-105.htm" TYPE="text/html">
<LINK REL="top" HREF="lw.htm" TYPE="text/html">
<LINK REL="contents" HREF="lw-2.htm" TYPE="text/html">
<LINK REL="index" HREF="lw-1525.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="lw.htm">LispWorks User Guide and Reference Manual</A> &gt; <A HREF="lw-105.htm">9 The Compiler</A><BR><BR>
</DIV><A HREF="lw-115.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-113.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-105.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H3 CLASS="FM1Heading">
<A NAME="pgfId-887598"></A>9.7  Optimizing your code</H3>
<P CLASS="Body">
<A NAME="pgfId-888790"></A>Careful use of the compiler optimize qualities described above or special declarations may significantly improve the performance of your code. However it is not recommended that you simply experiment with the effect of adding declarations. It is more productive to work systematically:</P>
<OL>
<LI CLASS="Step-1">
<A NAME="pgfId-888814"></A>Use the Profiler, described in <A HREF="lw-170.htm#34619" CLASS="XRef">The Profiler</A>, to analyse your application's performance and identify bottlenecks, then</LI>
<LI CLASS="Step">
<A NAME="pgfId-888820"></A>Consider whether re-writing of parts of your source code would improve efficiency at the bottlenecks, and</LI>
<LI CLASS="Step">
<A NAME="pgfId-890092"></A>Use <CODE CLASS="Code">
:explain</CODE>
 declarations to make the compiler generate optimization hints, and</LI>
<LI CLASS="Step">
<A NAME="pgfId-890735"></A>(In SMP LispWorks) use <A HREF="lw-748.htm#44595" CLASS="XRef">analysing-special-variables-usage</A> to report on symbols proclaimed special, and</LI>
<LI CLASS="Step">
<A NAME="pgfId-888827"></A>Consider adding suitable declarations as described in this chapter to improve efficiency at the bottlenecks.</LI>
</OL>
<P CLASS="Body">
<A NAME="pgfId-891015"></A>The most important tool for speeding up programs is the Profiler. You use the profiler to find the bottlenecks in the program, and then optimize these bottlenecks by helping the compiler to produce better code.</P>
<P CLASS="Body">
<A NAME="pgfId-887639"></A>The remainder of this section describes some specific ways to produce efficient compiled code with LispWorks.</P>
<H4 CLASS="FM2HeadingTOC">
<A HREF="lw-115.htm#pgfId-890104" CLASS="Hypertext">9.7.1  Compiler optimization hints</A></H4>
<H4 CLASS="FM2HeadingTOC">
<A HREF="lw-116.htm#pgfId-887611" CLASS="Hypertext">9.7.2  Fast 32-bit arithmetic</A></H4>
<H4 CLASS="FM2HeadingTOC">
<A HREF="lw-120.htm#pgfId-889166" CLASS="Hypertext">9.7.3  Floating point optimization</A></H4>
<H4 CLASS="FM2HeadingTOC">
<A HREF="lw-121.htm#pgfId-889221" CLASS="Hypertext">9.7.4  Tail call optimization</A></H4>
<H4 CLASS="FM2HeadingTOC">
<A HREF="lw-122.htm#pgfId-890750" CLASS="Hypertext">9.7.5  Usage of special variables</A></H4>
<H4 CLASS="FM2HeadingTOC">
<A HREF="lw-125.htm#pgfId-889717" CLASS="Hypertext">9.7.6  Stack allocation of objects with dynamic extent</A></H4>
<H4 CLASS="FM2HeadingTOC">
<A HREF="lw-126.htm#pgfId-889415" CLASS="Hypertext">9.7.7  Inlining foreign slot access</A></H4>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">LispWorks User Guide and Reference Manual - 21 Dec 2011</I></P>
<P><A HREF="lw-115.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-113.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-105.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
