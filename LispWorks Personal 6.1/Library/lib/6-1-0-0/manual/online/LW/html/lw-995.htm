<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="lw.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 user-preference
</TITLE>

<LINK REL="next" HREF="lw-996.htm" TYPE="text/html">
<LINK REL="prev" HREF="lw-994.htm" TYPE="text/html">
<LINK REL="up" HREF="lw-877.htm" TYPE="text/html">
<LINK REL="top" HREF="lw.htm" TYPE="text/html">
<LINK REL="contents" HREF="lw-2.htm" TYPE="text/html">
<LINK REL="index" HREF="lw-1525.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="lw.htm">LispWorks User Guide and Reference Manual</A> &gt; <A HREF="lw-877.htm">34 The LISPWORKS Package</A><BR><BR>
</DIV><A HREF="lw-996.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-994.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-877.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-1324865"></A><A NAME="94838"></A>user<A NAME="marker-1325012"></A>-preference</H4>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-1324866"></A>Function</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1324867"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-1324868"></A>Gets or sets a persistent value in the user's registry.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1324869"></A>Package</H5>
<P CLASS="RSignature">
<A NAME="pgfId-1324870"></A>lispworks</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1324871"></A>Signature</H5>
<P CLASS="RSignature">
<A NAME="pgfId-1324872"></A>user-preference <EM CLASS="Variable">
path</EM>
 <EM CLASS="Variable">
value-name</EM>
 &amp;key <EM CLASS="Variable">
product</EM>
 =&gt; <EM CLASS="Variable">
value</EM>
, <EM CLASS="Variable">
valuep</EM>
</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1324873"></A>Signature</H5>
<P CLASS="RSignature">
<A NAME="pgfId-1325145"></A>(setf user-preference) <EM CLASS="Variable">
value</EM>
 <EM CLASS="Variable">
path</EM>
 <EM CLASS="Variable">
value-name</EM>
 &amp;key <EM CLASS="Variable">
product</EM>
 =&gt; <EM CLASS="Variable">
value</EM>
</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1324874"></A>Arguments</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1325237"></A><EM CLASS="Variable">
path</EM>
</P>
<P CLASS="RDescription-C">A string or a list of strings.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1325282"></A><EM CLASS="Variable">
value-name</EM>
</P>
<P CLASS="RDescription-C">A string.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1324876"></A><EM CLASS="Variable">
product</EM>
</P>
<P CLASS="RDescription-C">A keyword.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1324877"></A>Values</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1326196"></A><EM CLASS="Variable">
value</EM>
</P>
<P CLASS="RDescription-C">A Lisp object.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1473087"></A><EM CLASS="Variable">
valuep</EM>
</P>
<P CLASS="RDescription-C">A boolean.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1324879"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-1324880"></A>The function <CODE CLASS="Code">
user-preference</CODE>
 reads the value of the registry entry <EM CLASS="Variable">
value-name</EM>
 under <EM CLASS="Variable">
path</EM>
 under the registry path defined for <EM CLASS="Variable">
product</EM>
 by <CODE CLASS="Code">
(setf </CODE>
<A HREF="lw-1418.htm#19972" CLASS="XRef">product-registry-path</A><CODE CLASS="Code">
)</CODE>
. If the registry entry was found a second value <CODE CLASS="Code">
t</CODE>
 is returned. If the registry entry was not found, then <EM CLASS="Variable">
value </EM>
is <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-1324881"></A>The function <CODE CLASS="Code">
(setf user-preference)</CODE>
 sets the value of that registry entry to <EM CLASS="Variable">
value</EM>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-1474661"></A>If <EM CLASS="Variable">
path</EM>
 is a list of strings, then it is interpreted like the directory component of a pathname. If <EM CLASS="Variable">
path</EM>
 is a string, then any directory separators should be appropriate for the platform - that is, use backslash on Windows, and forward slash on Unix/Linux/Mac OS X systems.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1475789"></A>Notes</H5>
<OL>
<LI CLASS="RStep-1">
<A NAME="pgfId-1842858"></A>When <EM CLASS="Variable">
value</EM>
 is a string, <CODE CLASS="Code">
user-preference</CODE>
 stores a print-escaped string in the registry and reads it back with <CODE CLASS="Code">
read-from-string</CODE>
. Therefore it may not work with string values stored by other software.</LI>
<LI CLASS="RStep">
<A NAME="pgfId-1324883"></A>While <EM CLASS="Variable">
product</EM>
 can in principle be any Lisp object, values of <EM CLASS="Variable">
product</EM>
 are compared by <CODE CLASS="Code">
eq</CODE>
, so you should use keywords.</LI>
<LI CLASS="RStep">
<A NAME="pgfId-1326256"></A>The CAPI provides a way to store window geometry - see the entry for <CODE CLASS="Code">
capi:top-level-interface-save-geometry-p</CODE>
 in the <I CLASS="Italic">
LispWorks CAPI Reference Manual</I>
.</LI>
</OL>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1474017"></A>Example</H5>
<P CLASS="RBody">
<A NAME="pgfId-1474524"></A>This example is on Microsoft Windows. Note the use of backslashes as directory separators in the <EM CLASS="Variable">
path</EM>
 argument:</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-1474529"></A>(setf (user-preference &quot;My Stuff&#92;&#92;FAQ&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474530"></A>                       &quot;Ultimate Answer&quot; </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474531"></A>                       :product :deep-thought) </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474532"></A>      42)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474533"></A>=&gt;</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-1474534"></A>42</PRE>
<P CLASS="RBody">
<A NAME="pgfId-1475028"></A>This is equivalent to the previous example, and is portable because we avoid the explicit directory separators in the <EM CLASS="Variable">
path</EM>
 argument:</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-1475119"></A>(setf (user-preference (list &quot;My Stuff&quot; &quot;FAQ&quot;)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1475120"></A>                       &quot;Ultimate Answer&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1475121"></A>                       :product :deep-thought) </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1475122"></A>      42)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1475123"></A>=&gt;</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-1475124"></A>42</PRE>
<P CLASS="RBody">
<A NAME="pgfId-1475413"></A>We can retrieve values on Windows like this:</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-1474536"></A>(user-preference &quot;My Stuff&#92;&#92;FAQ&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474537"></A>                 &quot;Ultimate Answer&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474538"></A>                 :product :deep-thought)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474539"></A>=&gt;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474540"></A>42</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-1474541"></A>t</PRE>
<P CLASS="RBody">
<A NAME="pgfId-1475569"></A>We can retrieve values on any platform like this:</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-1474543"></A>(user-preference (list &quot;My Stuff&quot; &quot;FAQ&quot;)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474544"></A>                 &quot;Ultimate Question&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474545"></A>                 :product :deep-thought)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474546"></A>=&gt;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1474035"></A>nil</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-1475580"></A>nil</PRE>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1474036"></A>See also</H5>
<P CLASS="RBody">
<A NAME="pgfId-1324888"></A><A HREF="lw-1347.htm#19960" CLASS="XRef">copy-preferences-from-older-version</A><BR>
<A HREF="lw-1418.htm#19972" CLASS="XRef">product-registry-path</A></P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">LispWorks User Guide and Reference Manual - 21 Dec 2011</I></P>
<P><A HREF="lw-996.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-994.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-877.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
