<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="lw.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 19.11.5  Attaching a stream to a LOB locator
</TITLE>

<LINK REL="next" HREF="lw-433.htm" TYPE="text/html">
<LINK REL="prev" HREF="lw-431.htm" TYPE="text/html">
<LINK REL="up" HREF="lw-424.htm" TYPE="text/html">
<LINK REL="top" HREF="lw.htm" TYPE="text/html">
<LINK REL="contents" HREF="lw-2.htm" TYPE="text/html">
<LINK REL="index" HREF="lw-1525.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="lw.htm">LispWorks User Guide and Reference Manual</A> &gt; <A HREF="lw-343.htm">19 Common SQL</A> &gt; <A HREF="lw-424.htm">19.11  Oracle LOB interface</A><BR><BR>
</DIV><A HREF="lw-433.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-431.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-424.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H3 CLASS="FM2Heading">
<A NAME="pgfId-911266"></A>19.11.5  Attaching a stream to a LOB locator</H3>
<P CLASS="Body">
<A NAME="pgfId-912717"></A>It is possible to attach a stream to a LOB locator, passing the LOB locator as a <CODE CLASS="Code">
:lob-locator</CODE>
 argument to <CODE CLASS="Code">
(make-instance '</CODE>
<A NAME="marker-914219"></A><A HREF="lw-1196.htm#28604" CLASS="XRef">lob-stream</A><CODE CLASS="Code">
 ...)</CODE>
. The value of the <CODE CLASS="Code">
:direction</CODE>
 argument must be <CODE CLASS="Code">
:input</CODE>
 or <CODE CLASS="Code">
:output</CODE>
. By default, if the stream is closed the LOB locator is freed, unless the value of the initarg <CODE CLASS="Code">
:free-lob-locator-on-close</CODE>
 is passed as <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="Body">
<A NAME="pgfId-912718"></A>Operations via the stream can be mixed with direct operations on the LOB. However, because of the buffering, accessing the LOB contents will give non-obvious results, as other operations may not see something that was written to the stream because it is still in the stream buffer, or the stream may have already read some contents before they were overwritten. Use <CODE CLASS="Code">
force-output</CODE>
 or <CODE CLASS="Code">
clear-input</CODE>
 before accessing the LOB in other ways to avoid these problems.</P>
<P CLASS="Body">
<A NAME="pgfId-911272"></A>It is possible to attach more than one stream to the same LOB locator, in both directions. Apart from the issue of the buffering described above, the streams can be used independently of each other. Note that if you want to close one of the streams and to continue to use the others or the LOB locator itself, you must pass <CODE CLASS="Code">
:free-lob-locator-on-close nil</CODE>
 when you make the stream.</P>
<P CLASS="Body">
<A NAME="pgfId-919503"></A>The LOB locator to which a stream is attached can be found by using the reader <A NAME="marker-919504"></A><CODE CLASS="Code">
<A HREF="lw-1196.htm#28604" CLASS="XRef">lob-stream</A>-lob-locator</CODE>
.</P>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">LispWorks User Guide and Reference Manual - 21 Dec 2011</I></P>
<P><A HREF="lw-433.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-431.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-424.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
