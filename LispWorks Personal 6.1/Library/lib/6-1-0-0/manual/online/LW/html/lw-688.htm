<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="lw.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 log-bug-form
</TITLE>

<LINK REL="next" HREF="lw-689.htm" TYPE="text/html">
<LINK REL="prev" HREF="lw-687.htm" TYPE="text/html">
<LINK REL="up" HREF="lw-683.htm" TYPE="text/html">
<LINK REL="top" HREF="lw.htm" TYPE="text/html">
<LINK REL="contents" HREF="lw-2.htm" TYPE="text/html">
<LINK REL="index" HREF="lw-1525.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="lw.htm">LispWorks User Guide and Reference Manual</A> &gt; <A HREF="lw-683.htm">29 The DBG Package</A><BR><BR>
</DIV><A HREF="lw-689.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-687.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-683.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-902160"></A><A NAME="21162"></A>log<A NAME="marker-902158"></A>-bug-form</H4>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-902162"></A>Function</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-902163"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-902164"></A>Writes a log of an error. This is useful in an application's error handlers.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-902165"></A>Package</H5>
<P CLASS="RSignature">
<A NAME="pgfId-902166"></A>dbg</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-902167"></A>Signature</H5>
<P CLASS="RSignature">
<A NAME="pgfId-902168"></A>log-bug-form <EM CLASS="Variable">
description</EM>
 &amp;key <EM CLASS="Variable">
log-file</EM>
 <EM CLASS="Variable">
message-stream</EM>
 =&gt; <EM CLASS="Variable">
path</EM>
</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-902169"></A>Arguments</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-902170"></A><EM CLASS="Variable">
description</EM>
</P>
<P CLASS="RDescription-C">A string.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-902171"></A><EM CLASS="Variable">
log-file</EM>
</P>
<P CLASS="RDescription-C">A pathname designator.	</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-902172"></A><EM CLASS="Variable">
message-stream</EM>
</P>
<P CLASS="RDescription-C">An output stream, <CODE CLASS="Code">
t</CODE>
 or <CODE CLASS="Code">
nil</CODE>
.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-902173"></A>Values</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-902174"></A><EM CLASS="Variable">
path</EM>
</P>
<P CLASS="RDescription-C">A pathname.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-902175"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-902176"></A>The function <CODE CLASS="Code">
log-bug-form</CODE>
 is a simple interface for writing a log of an error. Your application's error handlers can call it.</P>
<P CLASS="RBody">
<A NAME="pgfId-902177"></A><CODE CLASS="Code">
log-bug-form</CODE>
 opens the file <EM CLASS="Variable">
log-file</EM>
 for output. It writes the current date followed by a bug form. The bug form contains <EM CLASS="Variable">
description</EM>
, and debugging information generated by the system. When it finishes it writes to the stream <EM CLASS="Variable">
message-stream</EM>
 a single line reporting that a bug form was written.</P>
<P CLASS="RBody">
<A NAME="pgfId-902178"></A>If <EM CLASS="Variable">
log-file</EM>
 is supplied it must be a valid path, and it is used to open the file. The default value of <EM CLASS="Variable">
log-file</EM>
 is the value returned by <A HREF="lw-686.htm#44743" CLASS="XRef">executable-log-file</A>.</P>
<P CLASS="RBody">
<A NAME="pgfId-902182"></A><EM CLASS="Variable">
log-bug-form</EM>
 calls <CODE CLASS="Code">
ensure-directories-exist</CODE>
 before opening the log file, therefore so the directory where the <EM CLASS="Variable">
log-file</EM>
 is written does not need to exist before <CODE CLASS="Code">
log-bug-form</CODE>
 is called.</P>
<P CLASS="RBody">
<A NAME="pgfId-902183"></A>If <EM CLASS="Variable">
message-stream</EM>
 is <CODE CLASS="Code">
t</CODE>
 the message is written to standard output. If <EM CLASS="Variable">
message-stream</EM>
 is a stream the message is written to it, and if <EM CLASS="Variable">
message-stream</EM>
 is <CODE CLASS="Code">
nil</CODE>
 then no message is written.</P>
<P CLASS="RBody">
<A NAME="pgfId-902184"></A>If there is an error during the operation, <CODE CLASS="Code">
log-bug-form</CODE>
 silently fails and returns <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-902185"></A>On success <CODE CLASS="Code">
log-bug-form</CODE>
 returns the path where the log file was written.</P>
<P CLASS="RBody">
<A NAME="pgfId-902188"></A>See also the section &quot;Reporting bugs&quot; in the <I CLASS="Italic">
LispWorks Release Notes and Installation Guide</I>
.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-902190"></A>Notes</H5>
<P CLASS="RBody">
<A NAME="pgfId-902191"></A><CODE CLASS="Code">
log-bug-form</CODE>
 is invoked automatically if the debugger decides to use the console (the terminal) rather than use the LispWorks IDE debugging tools. This means that after such an error the user can always find a bug form in the default log file, which can be found by using <A HREF="lw-686.htm#44743" CLASS="XRef">executable-log-file</A>.</P>
<P CLASS="RBody">
<A NAME="pgfId-902195"></A><CODE CLASS="Code">
log-bug-form</CODE>
 always appends, so if it is called frequently the log file grows continuously. You may need to clear it periodically. It may be a good idea to move the file rather than delete it, so a record of errors remains.</P>
<P CLASS="RBody">
<A NAME="pgfId-902196"></A>When editing the log file it should be noted that each bugform is preceded by the time it was written, and that the bug forms are in chronological order. That means that the interesting bug form is most often the last one in the file.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-902197"></A>See also</H5>
<P CLASS="RBody">
<A NAME="pgfId-902201"></A><A HREF="lw-686.htm#44743" CLASS="XRef">executable-log-file</A><BR>
<A HREF="lw-689.htm#59828" CLASS="XRef">logs-directory</A></P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">LispWorks User Guide and Reference Manual - 21 Dec 2011</I></P>
<P><A HREF="lw-689.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-687.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-683.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
