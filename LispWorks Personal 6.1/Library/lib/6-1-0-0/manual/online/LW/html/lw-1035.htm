<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="lw.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 last-callback-on-thread
</TITLE>

<LINK REL="next" HREF="lw-1036.htm" TYPE="text/html">
<LINK REL="prev" HREF="lw-1034.htm" TYPE="text/html">
<LINK REL="up" HREF="lw-1002.htm" TYPE="text/html">
<LINK REL="top" HREF="lw.htm" TYPE="text/html">
<LINK REL="contents" HREF="lw-2.htm" TYPE="text/html">
<LINK REL="index" HREF="lw-1525.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="lw.htm">LispWorks User Guide and Reference Manual</A> &gt; <A HREF="lw-1002.htm">35 The MP Package</A><BR><BR>
</DIV><A HREF="lw-1036.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-1034.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-1002.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-1505359"></A><A NAME="30794"></A>last<A NAME="marker-1505357"></A>-callback-on-thread</H4>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-1505360"></A>Function</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1505361"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-1505362"></A>Informs LispWorks that there are probably not going to be more callbacks from foreign code on the current thread, allowing it to free some data.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1505363"></A>Package</H5>
<P CLASS="RSignature">
<A NAME="pgfId-1505364"></A>mp</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1505365"></A>Signature</H5>
<P CLASS="RSignature">
<A NAME="pgfId-1505366"></A>last-callback-on-thread =&gt; <EM CLASS="Variable">
result</EM>
</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1505369"></A>Values</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1505370"></A><EM CLASS="Variable">
result</EM>
</P>
<P CLASS="RDescription-C"> <CODE CLASS="Code">
t</CODE>
 or <CODE CLASS="Code">
nil</CODE>
.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1505371"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-1510882"></A>The function <CODE CLASS="Code">
last-callback-on-thread</CODE>
 informs LispWorks that there are probably not going to be more callbacks from foreign code on the current thread (but does not guarantee this).</P>
<P CLASS="RBody">
<A NAME="pgfId-1510883"></A><CODE CLASS="Code">
last-callback-on-thread</CODE>
 must be used in the scope of a call into LispWorks by a foreign callable on a thread that was not created by LispWorks. It informs LispWorks that there are unlikely to be more callbacks into Lisp on the current thread. As a result, LispWorks can cleanup its side.</P>
<P CLASS="RBody">
<A NAME="pgfId-1510884"></A>For each thread that was not created by Lisp and on which there was a call into Lisp, LispWorks keeps data on the Lisp side which it uses to make the entry faster. If the thread goes away, this data is not needed and so LispWorks can free it.</P>
<P CLASS="RBody">
<A NAME="pgfId-1510885"></A>If another callback occurs on the same thread after a callback that called <CODE CLASS="Code">
last-callback-on-thread</CODE>
, LispWorks will have to recreate its side, which takes a little more time, but otherwise it works in the same way. Thus it is possible to call <CODE CLASS="Code">
last-callback-on-thread</CODE>
 even when it is not guaranteed that there will not be further callbacks on the same thread.</P>
<P CLASS="RBody">
<A NAME="pgfId-1510886"></A>Calling <CODE CLASS="Code">
last-callback-on-thread</CODE>
 on a thread that was created by LispWorks has no effect.</P>
<P CLASS="RBody">
<A NAME="pgfId-1505372"></A><CODE CLASS="Code">
last-callback-on-thread</CODE>
 returns <CODE CLASS="Code">
t</CODE>
 when called on a thread that was not created by LispWorks, otherwise it returns <CODE CLASS="Code">
nil</CODE>
.</P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">LispWorks User Guide and Reference Manual - 21 Dec 2011</I></P>
<P><A HREF="lw-1036.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="lw-1034.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="lw-1002.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="lw.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="lw-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="lw-1525.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
