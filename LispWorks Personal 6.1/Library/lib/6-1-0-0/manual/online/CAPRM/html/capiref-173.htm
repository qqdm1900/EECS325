<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="capiref.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 grid-layout
</TITLE>

<LINK REL="next" HREF="capiref-174.htm" TYPE="text/html">
<LINK REL="prev" HREF="capiref-172.htm" TYPE="text/html">
<LINK REL="up" HREF="capiref-4.htm" TYPE="text/html">
<LINK REL="top" HREF="capiref.htm" TYPE="text/html">
<LINK REL="contents" HREF="capiref-2.htm" TYPE="text/html">
<LINK REL="index" HREF="capiref-693.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="capiref.htm">CAPI Reference Manual</A> &gt; <A HREF="capiref-4.htm">1 CAPI Reference Entries</A><BR><BR>
</DIV><A HREF="capiref-174.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-172.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-2703727"></A><A NAME="34440"></A>grid<A NAME="marker-4108669"></A>-layout</H4>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-896167"></A>Class</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-895686"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-895688"></A>The <CODE CLASS="Code">
grid-layout</CODE>
 is a layout which positions its children on a two dimensional grid. </P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-4108642"></A>Package</H5>
<P CLASS="RSignature">
<A NAME="pgfId-4108643"></A>capi</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-895690"></A>Superclasses</H5>
<P CLASS="RSignature">
<A NAME="pgfId-895692"></A><A HREF="capiref-494.htm#19253" CLASS="XRef">x-y-adjustable-layout</A></P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-895694"></A>Subclasses</H5>
<P CLASS="RSignature">
<A NAME="pgfId-895696"></A><A HREF="capiref-362.htm#13083" CLASS="XRef">row-layout</A><BR>
<A HREF="capiref-52.htm#32841" CLASS="XRef">column-layout</A></P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-895699"></A>Initargs</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-4809000"></A><CODE CLASS="Code">
:columns</CODE>
<A NAME="marker-4808999"></A></P>
<P CLASS="RDescription-C">The number of columns in the grid.</P>
<P CLASS="RDescription">
<A NAME="pgfId-4809013"></A><CODE CLASS="Code">
:has-title-column-p</CODE>
<A NAME="marker-952849"></A><A NAME="marker-4809012"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-4809020"></A>A boolean specifying whether the first column is a title column.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-895701"></A><CODE CLASS="Code">
:orientation</CODE>
<A NAME="marker-4809186"></A></P>
<P CLASS="RDescription-C">The orientation of the children.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-895702"></A><CODE CLASS="Code">
:rows</CODE>
<A NAME="marker-952850"></A></P>
<P CLASS="RDescription-C">The number of rows in the grid.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-895704"></A><CODE CLASS="Code">
:x-ratios</CODE>
<A NAME="marker-952852"></A></P>
<P CLASS="RDescription-C">The ratios between the columns.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-895705"></A><CODE CLASS="Code">
:y-ratios</CODE>
<A NAME="marker-952853"></A></P>
<P CLASS="RDescription-C">The ratios between the rows.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-895706"></A><CODE CLASS="Code">
:x-gap</CODE>
<A NAME="marker-952854"></A></P>
<P CLASS="RDescription-C">The gap between each column.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-895707"></A><CODE CLASS="Code">
:y-gap</CODE>
<A NAME="marker-952855"></A></P>
<P CLASS="RDescription-C">The gap between each row.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-895708"></A><CODE CLASS="Code">
:x-uniform-size-p</CODE>
<A NAME="marker-952856"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-896171"></A>If <CODE CLASS="Code">
t</CODE>
, make each of the columns the same size.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-895709"></A><CODE CLASS="Code">
:y-uniform-size-p</CODE>
<A NAME="marker-952857"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-896172"></A>If <CODE CLASS="Code">
t</CODE>
, make each of the rows the same size.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-895711"></A>Accessors</H5>
<P CLASS="RSignature">
<A NAME="pgfId-895713"></A><A NAME="marker-3801234"></A>layout-x-ratios<BR>
<A NAME="marker-3801239"></A>layout-y-ratios<BR>
<A NAME="marker-3801244"></A>layout-x-gap<BR>
<A NAME="marker-3801249"></A>layout-y-gap</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-895718"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-895720"></A>The row and column sizes are controlled by the constraints on their children. For example, the <EM CLASS="Variable">
visible-min-width</EM>
 of any column is the maximum of the <EM CLASS="Variable">
visible-min-width</EM>
 in of the children in the column. The size of the layout is controlled by the constraints on the rows and columns. </P>
<P CLASS="RBody">
<A NAME="pgfId-2170466"></A>For <CODE CLASS="Code">
grid-layout</CODE>
 <EM CLASS="Variable">
description</EM>
 is either a two dimensional array or a list in the order specified by <EM CLASS="Variable">
orientation</EM>
 (which defaults to <CODE CLASS="Code">
:row</CODE>
). In the case of a list, one of <EM CLASS="Variable">
columns</EM>
 or <EM CLASS="Variable">
rows</EM>
 can be supplied to specify the dimensions (the default is two columns). As well as panes, slot names and strings, <EM CLASS="Variable">
description</EM>
 may contain the element <CODE CLASS="Code">
nil</CODE>
, which is interpreted as a special dummy pane with suitable geometry for resizable gaps. This special interpretation of <CODE CLASS="Code">
nil</CODE>
 in the <EM CLASS="Variable">
description</EM>
 is specific to <CODE CLASS="Code">
grid-layout</CODE>
 and its subclasses.</P>
<P CLASS="RBody">
<A NAME="pgfId-4236719"></A>The <EM CLASS="Variable">
x-ratios</EM>
 and <EM CLASS="Variable">
y-ratios</EM>
 slots control the sizes of the elements in a grid layout in the following manner:</P>
<P CLASS="RBody">
<A NAME="pgfId-895731"></A>The elements of <EM CLASS="Variable">
x-ratios</EM>
 (or <EM CLASS="Variable">
y-ratios</EM>
) control the size of each child relative to the others. If an element in <EM CLASS="Variable">
x-ratios</EM>
 (or <EM CLASS="Variable">
y-ratios</EM>
) is <CODE CLASS="Code">
nil</CODE>
 the child is fixed at its minimum size. Otherwise the size is calculated as follows </P>
<CODE CLASS="RCode-line">
<A NAME="pgfId-952858"></A>(round (* total <EM CLASS="Variable">
ratio</EM>
) <EM CLASS="Variable">
ratio-sum</EM>
) </CODE>
<P CLASS="RBody">
<A NAME="pgfId-952859"></A>where <EM CLASS="Variable">
ratio-sum</EM>
 is the sum of the non-nil elements of <EM CLASS="Variable">
x-ratios</EM>
 (or <EM CLASS="Variable">
y-ratios</EM>
) and <EM CLASS="Variable">
ratio</EM>
 is the element of ratios corresponding to the child. If this ideal ratio size does not fit the maximum or minimum constraints on the child size, and the constraint means that changing the ratio size would not assist the sum of the child sizes fitting the total space available, then the child is fixed at its constrained size, the child is removed from the ratio calculation, and the calculation is performed again. If <EM CLASS="Variable">
x-ratios</EM>
 (or <EM CLASS="Variable">
y-ratios</EM>
) has fewer elements than the number of children, 1 is used for each of the missing ratios. Leaving <EM CLASS="Variable">
x-ratios</EM>
 (or <EM CLASS="Variable">
y-ratios</EM>
) <CODE CLASS="Code">
nil</CODE>
 causes all of the children to be the same size.</P>
<P CLASS="RBody">
<A NAME="pgfId-895740"></A>The positions of each pane in the layout can be specified using <EM CLASS="Variable">
x-adjust</EM>
 and <EM CLASS="Variable">
y-adjust</EM>
 like every other <A HREF="capiref-494.htm#19253" CLASS="XRef">x-y-adjustable-layout</A>, except that if there is one value then it is used for all of the panes, whereas if it is a list then each value in the list refers to one row or column. If the list does not contain a value for every row or column then the last value is taken to refer to all of the remaining panes.</P>
<P CLASS="RBody">
<A NAME="pgfId-8638220"></A>Normally, the items in a <CODE CLASS="Code">
grid-layout</CODE>
 are arranged to look like a set of columns that are joined horizontally and rows that are joined vertically.  All the cells in each column have the same width and all the cells in each row have the same height. The keyword <CODE CLASS="Code">
:right-extend</CODE>
 (or <CODE CLASS="Code">
:bottom-extend</CODE>
) can be used to allow an item to span more than one column (or row).  The keyword should be placed in the cell of the <EM CLASS="Variable">
description</EM>
 that you want the item to expand into.  For <CODE CLASS="Code">
:right-extend</CODE>
, the cell immediately to the left will be extended to fill both columns in that row.  For <CODE CLASS="Code">
:bottom-extend</CODE>
, the cell immediately above will be extended to fill both rows in that column.</P>
<P CLASS="RBody">
<A NAME="pgfId-4809192"></A>If <EM CLASS="Variable">
has-title-column-p</EM>
 is true, then the items in the description which correspond to the first column are treated specially:</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-4809212"></A>A string</P>
<P CLASS="RDescription-C">Equivalent to specifying <CODE CLASS="Code">
(:title </CODE>
<EM CLASS="Variable">
string</EM>
<CODE CLASS="Code">
)</CODE>
</P>
<P CLASS="RBody">
<A NAME="pgfId-4809203"></A>A list of the form <CODE CLASS="Code">
(:title </CODE>
<EM CLASS="Variable">
string</EM>
<CODE CLASS="Code">
 . </CODE>
<EM CLASS="Variable">
options</EM>
<CODE CLASS="Code">
)</CODE>
</P>
<P CLASS="RDescription-C">
<A NAME="pgfId-4812826"></A>Make a title using the given list as initargs. <EM CLASS="Variable">
options</EM>
 is a plist of options, which can include the keys <CODE CLASS="Code">
:title-font</CODE>
, <CODE CLASS="Code">
:title-args</CODE>
, <CODE CLASS="Code">
:mnemonic</CODE>
 or  <CODE CLASS="Code">
:mnemonic-escape</CODE>
.  See <A HREF="capiref-449.htm#12473" CLASS="XRef">titled-object</A> for how these are processed.</P>
<P CLASS="RBody">
<A NAME="pgfId-4809229"></A>A list of the form <CODE CLASS="Code">
(:mnemonic-title </CODE>
<EM CLASS="Variable">
string</EM>
<CODE CLASS="Code">
 . </CODE>
<EM CLASS="Variable">
options</EM>
<CODE CLASS="Code">
)</CODE>
</P>
<P CLASS="RDescription-C">
<A NAME="pgfId-4812873"></A>Make a title using the given list as initargs. <EM CLASS="Variable">
string</EM>
 can contain the mnemonic escape. <EM CLASS="Variable">
options</EM>
 is a plist of options, which can include the keys <CODE CLASS="Code">
:title-font</CODE>
, <CODE CLASS="Code">
:title-args</CODE>
, or  <CODE CLASS="Code">
:mnemonic-escape</CODE>
. See <A HREF="capiref-449.htm#12473" CLASS="XRef">titled-object</A> for how these are processed.</P>
<P CLASS="RBody">
<A NAME="pgfId-4813045"></A><B CLASS="Bold">
Note:</B>
 mnemonics are not supported on all platforms.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-895745"></A>Example</H5>
<PRE CLASS="RCode-first"><A NAME="pgfId-895747"></A>(capi:contain (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895749"></A>               'capi:grid-layout</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895750"></A>               :description '(&quot;1&quot; &quot;2&quot; &quot;3&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895751"></A>                              &quot;4&quot; &quot;5&quot; &quot;6&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895752"></A>                              &quot;7&quot; &quot;8&quot; &quot;9&quot;)</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-895753"></A>               :columns 3))</PRE>
<PRE CLASS="RCode-first"><A NAME="pgfId-895757"></A>(capi:contain (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895759"></A>               'capi:grid-layout</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895760"></A>               :description (list &quot;List:&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895761"></A>                                  (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895762"></A>                                   'capi:list-panel</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895763"></A>                                   :items '(1 2 3))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895764"></A>                                   &quot;Buttons:&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895765"></A>                                  (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895766"></A>                                   'capi:button-panel</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-895767"></A>                                   :items '(1 2 3)))))</PRE>
<PRE CLASS="RCode-first"><A NAME="pgfId-895771"></A>(capi:contain (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895773"></A>               'capi:grid-layout</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895774"></A>               :description (list &quot;List:&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895776"></A>                                  (make-instance </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895888"></A>                                   'capi:list-panel</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895777"></A>                                   :items '(1 2 3))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895778"></A>                                  &quot;Buttons:&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895779"></A>                                  (make-instance </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895889"></A>                                   'capi:button-panel</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895780"></A>                                   :items '(1 2 3)))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895781"></A>               :x-adjust '(:right :left)</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-895782"></A>               :y-adjust '(:center :bottom)))</PRE>
<PRE CLASS="RCode-first"><A NAME="pgfId-895786"></A>(capi:contain (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895788"></A>               'capi:grid-layout</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895789"></A>               :description (list &quot;List:&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895791"></A>                                  (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895792"></A>                                   'capi:list-panel</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895793"></A>                                   :items '(1 2 3))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895794"></A>                                  &quot;Buttons:&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895795"></A>                                  (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895796"></A>                                   'capi:button-panel</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-895797"></A>                                   :items '(1 2 3)))</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-895798"></A>               :orientation :column))</PRE>
<P CLASS="RBody">
<A NAME="pgfId-4236735"></A>This example illustrates the special interpretation of <CODE CLASS="Code">
nil</CODE>
 in the <EM CLASS="Variable">
description</EM>
:</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-4257627"></A>(capi:contain </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257628"></A> (make-instance </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257629"></A>  'capi:grid-layout </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257630"></A>  :description </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257631"></A>  (cdr </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257632"></A>   (loop for i below 5 </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257633"></A>         appending </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257634"></A>         (list </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257635"></A>          nil </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257636"></A>          (make-instance 'capi:simple-pane </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257637"></A>                         :background :red </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257638"></A>                         :visible-min-width 50 </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257639"></A>                         :visible-max-width t </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257640"></A>                         :visible-min-height 50 </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257641"></A>                         :visible-max-height t)))) </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4257642"></A>  :columns 3) </PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-4254240"></A> :height 150 :width 150 :title &quot;Resize Me&quot;)</PRE>
<P CLASS="RBody">
<A NAME="pgfId-8638312"></A>This example illustrates the use of <CODE CLASS="Code">
:right-extend</CODE>
 and <CODE CLASS="Code">
:bottom-extend</CODE>
 to make cells span multiple columns and rows:</P>
<P CLASS="RBody">
<A NAME="pgfId-8638346"></A><CODE CLASS="Code">
examples/capi/layouts/extend.lisp</CODE>
</P>
<P CLASS="RBody">
<A NAME="pgfId-4813024"></A>There are more examples in the directory <CODE CLASS="Code">
examples/capi/applications/</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-4813025"></A>This example is a grid with <CODE CLASS="Code">
:has-title-column-p t</CODE>
:<BR>
<CODE CLASS="Code">
examples/capi/layouts/titles-in-grid.lisp</CODE>
</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-4812979"></A>See also</H5>
<P CLASS="RBody">
<A NAME="pgfId-895808"></A><A HREF="capiref-211.htm#12861" CLASS="XRef">layout</A></P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">CAPI Reference Manual - 15 Dec 2011</I></P>
<P><A HREF="capiref-174.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-172.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
