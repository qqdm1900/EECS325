<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="capiref.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 browser-pane
</TITLE>

<LINK REL="next" HREF="capiref-20.htm" TYPE="text/html">
<LINK REL="prev" HREF="capiref-18.htm" TYPE="text/html">
<LINK REL="up" HREF="capiref-4.htm" TYPE="text/html">
<LINK REL="top" HREF="capiref.htm" TYPE="text/html">
<LINK REL="contents" HREF="capiref-2.htm" TYPE="text/html">
<LINK REL="index" HREF="capiref-693.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="capiref.htm">CAPI Reference Manual</A> &gt; <A HREF="capiref-4.htm">1 CAPI Reference Entries</A><BR><BR>
</DIV><A HREF="capiref-20.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-18.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-9629686"></A><A NAME="87651"></A>b<A NAME="marker-9686027"></A>rowser<A NAME="marker-9685988"></A>-pane</H4>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-9629687"></A>Class</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9629688"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-9629689"></A>Embeds a pane that can display HTML. Implemented only on Microsoft Windows and Cocoa.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9629690"></A>Superclasses</H5>
<P CLASS="RBody">
<A NAME="pgfId-9629691"></A><A HREF="capiref-408.htm#40919" CLASS="XRef">simple-pane</A></P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9629692"></A>Subclasses</H5>
<P CLASS="RBody">
<A NAME="pgfId-9629693"></A>None</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9629695"></A>Initargs</H5>
<P CLASS="RDescription">
<A NAME="pgfId-9629696"></A><CODE CLASS="Code">
:before-navigate-callback</CODE>
<A NAME="marker-9686291"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9638765"></A>A function that is called before navigating, or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9629697"></A><CODE CLASS="Code">
:navigate-complete-callback</CODE>
<A NAME="marker-9686296"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9638769"></A>A function that is called when navigation completes, or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9629698"></A><CODE CLASS="Code">
:new-window-callback</CODE>
<A NAME="marker-9686301"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9638780"></A>A function that is called before opening a new window, or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9629699"></A><CODE CLASS="Code">
:status-text-change-callback</CODE>
<A NAME="marker-9686306"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9638784"></A>A function that is called when there is a new status text or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9629700"></A><CODE CLASS="Code">
:document-complete-callback</CODE>
<A NAME="marker-9686311"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9638788"></A>A function that is called when a document is complete, or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9629701"></A><CODE CLASS="Code">
:title-change-callback</CODE>
<A NAME="marker-9686316"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9638792"></A>A function that is called when the title changes, or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9629702"></A><CODE CLASS="Code">
:update-commands-callback</CODE>
<A NAME="marker-9686321"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9639199"></A>A function that is called when the enabled status of commands related to the pane may need to change, or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9629703"></A><CODE CLASS="Code">
:internet-explorer-callback</CODE>
<A NAME="marker-9686326"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9676250"></A>Microsoft Windows specific: A function that is whenever there is an event from the underlying IWebBrowser2, or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9676251"></A><CODE CLASS="Code">
:navigate-error-callback</CODE>
<A NAME="marker-9686331"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9646098"></A>A function that is called when the pane fails to navigate, or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9629706"></A><CODE CLASS="Code">
:debug</CODE>
<A NAME="marker-9686341"></A></P>
<P CLASS="RDescription-C">A boolean specifying whether debugging mode is on or not.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9629707"></A><CODE CLASS="Code">
:url</CODE>
<A NAME="marker-9686346"></A></P>
<P CLASS="RDescription-C">A string specifying the initial URL.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9629708"></A>Accessors</H5>
<P CLASS="RSignature">
<A NAME="pgfId-9646189"></A><A NAME="marker-9686351"></A>browser-pane-navigate-complete-callback<BR>
<A NAME="marker-9686359"></A>browser-pane-new-window-callback<BR>
<A NAME="marker-9686364"></A>browser-pane-status-text-change-callback<BR>
<A NAME="marker-10571967"></A>browser-pane-document-complete-callback<BR>
<A NAME="marker-9686369"></A>browser-pane-title-change-callback<BR>
<A NAME="marker-9686374"></A>browser-pane-update-commands-callback<BR>
<A NAME="marker-9686379"></A>browser-pane-internet-explorer-callback<BR>
<A NAME="marker-9686384"></A>browser-pane-before-navigate-callback<BR>
<A NAME="marker-9686389"></A>browser-pane-navigate-error-callback<BR>
<A NAME="marker-9686394"></A><A NAME="marker-9686399"></A>browser-pane-debug</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9629719"></A>Readers</H5>
<P CLASS="RSignature">
<A NAME="pgfId-9629720"></A><A NAME="marker-9686404"></A>browser-pane-url<BR>
<A NAME="marker-9686409"></A>browser-pane-successful-p<BR>
<A NAME="marker-9686414"></A>browser-pane-title</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9629723"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-9629724"></A>A <CODE CLASS="Code">
browser-pane</CODE>
 is a pane that embeds a pane that can display HTML. Navigation in the pane happens either by the user clicking on hyperlinks, or by the application using <A HREF="capiref-20.htm#67236" CLASS="XRef">browser-pane-navigate</A>. The various callbacks gives the program information on what happens in the window and can be used to control (for example, to block or redirect pages).</P>
<P CLASS="RBody">
<A NAME="pgfId-9629725"></A><CODE CLASS="Code">
browser-pane</CODE>
 is implemented only on Microsoft Windows (where it embeds an IWebBrowser2) and Cocoa (where it uses WebKit).</P>
<P CLASS="RBody">
<A NAME="pgfId-9629726"></A>The initarg <CODE CLASS="Code">
:url</CODE>
 specifies the initial URL. After being created, the pane automatically navigates to this URL.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629727"></A>When <EM CLASS="Variable">
before-navigate-callback</EM>
 is non-nil, it is called before any navigation (whether programmatic or by the user), and gives the application control over whether to perform the navigation. The callback must have this signature:</P>
<P CLASS="RSignature">
<A NAME="pgfId-9675378"></A>before-navigate-callback <EM CLASS="Variable">
pane</EM>
 <EM CLASS="Variable">
url</EM>
 &amp;key <EM CLASS="Variable">
hyper-link-p</EM>
 <EM CLASS="Variable">
sub-frame-p</EM>
 <EM CLASS="Variable">
frame-name</EM>
 <EM CLASS="Variable">
post-data</EM>
 <EM CLASS="Variable">
headers</EM>
 &amp;allow-other-keys =&gt; <EM CLASS="Variable">
do-it-p</EM>
</P>
<P CLASS="RSignature">
<A NAME="pgfId-10421839"></A>before-navigate-callback <EM CLASS="Variable">
pane</EM>
 <EM CLASS="Variable">
url</EM>
 &amp;key <EM CLASS="Variable">
sub-frame-p</EM>
 <EM CLASS="Variable">
frame-name</EM>
 &amp;allow-other-keys =&gt; <EM CLASS="Variable">
do-it</EM>
</P>
<P CLASS="RBody">
<A NAME="pgfId-9629729"></A><EM CLASS="Variable">
pane</EM>
 is the pane that navigates, and <EM CLASS="Variable">
url</EM>
 is a string to which it wants to navigate. <EM CLASS="Variable">
sub-frame-p</EM>
 is true when the navigation is for a sub-frame inside the current URL, otherwise <EM CLASS="Variable">
sub-frame-p</EM>
 is <CODE CLASS="Code">
nil</CODE>
. <EM CLASS="Variable">
frame-name</EM>
 is either <CODE CLASS="Code">
nil</CODE>
 or the name of a sub-frame when the navigation is to a sub-frame.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629730"></A>If <EM CLASS="Variable">
before-navigate-callback</EM>
 returns <CODE CLASS="Code">
nil</CODE>
, the navigation is cancelled.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629731"></A><B CLASS="Bold">
Note:</B>
 To perform a redirection, just call <A HREF="capiref-20.htm#67236" CLASS="XRef">browser-pane-navigate</A> to the required URL, and return <CODE CLASS="Code">
nil</CODE>
 from <EM CLASS="Variable">
before-navigate-callback</EM>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629733"></A>If <EM CLASS="Variable">
new-window-callback</EM>
 is non-nil, it is called before the pane tries to open a new window. It must have this signature:</P>
<P CLASS="RSignature">
<A NAME="pgfId-9629734"></A>new-window-callback <EM CLASS="Variable">
pane</EM>
 <EM CLASS="Variable">
url</EM>
 &amp;key <EM CLASS="Variable">
context</EM>
 <EM CLASS="Variable">
flags</EM>
 &amp;allow-other-keys =&gt; <EM CLASS="Variable">
do-it-p</EM>
</P>
<P CLASS="RBody">
<A NAME="pgfId-9629735"></A><EM CLASS="Variable">
pane</EM>
 is the pane that wants to open a new window, and <EM CLASS="Variable">
url</EM>
 is a string containing the URL that the new window will navigate to. <EM CLASS="Variable">
context</EM>
 is a string containing the URL of the page from which the request comes.</P>
<P CLASS="RBody">
<A NAME="pgfId-10422794"></A><EM CLASS="Variable">
flags</EM>
 is implementation specific flags. On Cocoa <EM CLASS="Variable">
flags</EM>
 is always 0. On Microsoft Windows <EM CLASS="Variable">
flags</EM>
 contains bits from the NWMF enumeration.</P>
<P CLASS="RBody">
<A NAME="pgfId-10422169"></A>If <EM CLASS="Variable">
new-window-callback</EM>
 returns <CODE CLASS="Code">
nil</CODE>
, the opening of the new window is cancelled. If <EM CLASS="Variable">
new-window-callback</EM>
 returns <CODE CLASS="Code">
t</CODE>
 or is not supplied, it launches a browser using the OS settings.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629738"></A>On Microsoft Windows, <EM CLASS="Variable">
new-window-callback</EM>
 is invoked from the &quot;NewWindow3&quot; event (or &quot;NewWindow2&quot; for old versions) of the sink of the underlying IWebBrowser2. If not cancelled, the pane opens a new normal Internet Explorer window.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629739"></A>If <EM CLASS="Variable">
document-complete-callback</EM>
 is non-nil, it is called when the new document in the pane is complete. It must be a function with signature:</P>
<P CLASS="RSignature">
<A NAME="pgfId-9629740"></A>document-complete-callback =&gt; <EM CLASS="Variable">
pane</EM>
 <EM CLASS="Variable">
url</EM>
 <EM CLASS="Variable">
title</EM>
</P>
<P CLASS="RBody">
<A NAME="pgfId-10423106"></A><EM CLASS="Variable">
url</EM>
 is the loaded URL, and may be <CODE CLASS="Code">
nil</CODE>
 in the case of failure. <EM CLASS="Variable">
title</EM>
 is a string that is associated with the URL <EM CLASS="Variable">
url</EM>
 (or the previous URL if the latest call failed).</P>
<P CLASS="RBody">
<A NAME="pgfId-10423146"></A><EM CLASS="Variable">
document-complete-callback</EM>
 is called when, as far as the system is concerned, all the data for the URL has been loaded and is displayed in the pane. There is only one call to <EM CLASS="Variable">
document-complete-callback</EM>
 for each navigation of the pane.</P>
<P CLASS="RBody">
<A NAME="pgfId-10423195"></A>If <EM CLASS="Variable">
navigate-complete-callback</EM>
 is non-nil, it is called whenever a navigation completes. <EM CLASS="Variable">
navigate-complete-callback</EM>
 can be called several times for each navigation of the pane. It must be a function with the signature:</P>
<P CLASS="RSignature">
<A NAME="pgfId-9629742"></A>navigate-complete-callback <EM CLASS="Variable">
pane</EM>
 <EM CLASS="Variable">
url</EM>
 <EM CLASS="Variable">
sub-frame-p</EM>
 =&gt;</P>
<P CLASS="RBody">
<A NAME="pgfId-9629743"></A><EM CLASS="Variable">
pane</EM>
 is the pane that is navigated. <EM CLASS="Variable">
url</EM>
 is a string to which it navigated, unless the navigation failed, in which case <EM CLASS="Variable">
url</EM>
 is <CODE CLASS="Code">
nil</CODE>
. <EM CLASS="Variable">
sub-frame-p</EM>
 is true when the navigation was in a sub-frame.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629744"></A>Notes: For most puposes the <EM CLASS="Variable">
document-complete-callback</EM>
 is more useful than <EM CLASS="Variable">
navigate-complete-callback</EM>
. When <EM CLASS="Variable">
navigate-complete-callback</EM>
 gets a <CODE CLASS="Code">
nil</CODE>
 <EM CLASS="Variable">
url</EM>
, the value of the URL in the pane (that is, what the accessor <CODE CLASS="Code">
browser-pane-url</CODE>
 returns) is still set to the actual URL. The success flag  (which you can read with <CODE CLASS="Code">
browser-pane-successful-p</CODE>
) is set to <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629746"></A><EM CLASS="Variable">
url</EM>
 can be non-nil even if there was an error in the navigation, if the server supplied another URL. In this case, on Microsoft Windows only, the success flag is set to <CODE CLASS="Code">
:redirected</CODE>
. You can read it with <CODE CLASS="Code">
browser-pane-successful-p</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629747"></A>If <EM CLASS="Variable">
navigate-error-callback</EM>
 is non-nil, it is called when navigation fails for some reason. It should have this signature:</P>
<P CLASS="RSignature">
<A NAME="pgfId-10423260"></A>navigate-error-callback <EM CLASS="Variable">
pane</EM>
 <EM CLASS="Variable">
url</EM>
 &amp;key <EM CLASS="Variable">
http-code</EM>
 <EM CLASS="Variable">
error-symbol</EM>
 <EM CLASS="Variable">
implementation-error-code</EM>
 <EM CLASS="Variable">
message</EM>
 <EM CLASS="Variable">
frame-name</EM>
 <EM CLASS="Variable">
sub-frame-p</EM>
 <EM CLASS="Variable">
fatal</EM>
 &amp;allow-other-keys =&gt; <EM CLASS="Variable">
cancel</EM>
</P>
<P CLASS="RBody">
<A NAME="pgfId-9629749"></A><EM CLASS="Variable">
pane</EM>
 is the navigating pane, and <EM CLASS="Variable">
url</EM>
 is the URL that got the error.</P>
<P CLASS="RBody">
<A NAME="pgfId-10423427"></A>If the failure is server-side failure, then <EM CLASS="Variable">
http-code</EM>
 contains the http-code in the response of the server, otherwise (that is, when it failed to connect to a server) it is <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-10423598"></A><EM CLASS="Variable">
error-symbol</EM>
 is a keyword uniquely identifying the error. For an http error it is of the form <CODE CLASS="Code">
:HTTP_STATUS*</CODE>
, and for requests with bad syntax <EM CLASS="Variable">
error-symbol</EM>
 is <CODE CLASS="Code">
:bad-request</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-10423600"></A>On Microsoft Windows <EM CLASS="Variable">
implementation-error-code</EM>
 is the code in the &quot;NavigateError&quot; event. If <EM CLASS="Variable">
http-code</EM>
 is non-nil then <EM CLASS="Variable">
implementation-error-code</EM>
 and <EM CLASS="Variable">
http-code </EM>
will be the same. On Cocoa <EM CLASS="Variable">
implementation-error-code</EM>
 will be the same as <EM CLASS="Variable">
http-code</EM>
 in the case of server-side failure, otherwise it is one of the <CODE CLASS="Code">
NSURLError*</CODE>
 constants.</P>
<P CLASS="RBody">
<A NAME="pgfId-10423782"></A><EM CLASS="Variable">
fatal</EM>
 is a boolean. A non-nil value means that nothing is going to be displayed in the pane to tell the user about the error.</P>
<P CLASS="RBody">
<A NAME="pgfId-10423604"></A><EM CLASS="Variable">
message</EM>
 is a message saying what the error is. <EM CLASS="Variable">
sub-frame-p</EM>
 is <CODE CLASS="Code">
t</CODE>
 when the navigation is for a sub-frame, otherwise <CODE CLASS="Code">
nil</CODE>
. <EM CLASS="Variable">
frame-name</EM>
 is the name of the frame.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629752"></A>The return value <EM CLASS="Variable">
cancel</EM>
 of <EM CLASS="Variable">
navigate-error-callback </EM>
should be one of <CODE CLASS="Code">
nil</CODE>
, <CODE CLASS="Code">
t</CODE>
, or <CODE CLASS="Code">
:stop</CODE>
, with these interpretations:</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9629753"></A><CODE CLASS="Code">
nil</CODE>
</P>
<P CLASS="RDescription-C">On Microsoft Windows this means displaying either the substitution page from the server if there is one, or displaying automatically generated (by the underlying IWebBrowser2) error page.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9629754"></A><CODE CLASS="Code">
t</CODE>
</P>
<P CLASS="RDescription-C">Cancel. On Microsoft Windows this means not displaying the automatically generated error page, but displaying server substitution if there is any.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9675737"></A><CODE CLASS="Code">
:stop</CODE>
</P>
<P CLASS="RDescription-C">Stop the navigation immediately.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629755"></A>Note that the effect of the returned value <EM CLASS="Variable">
cancel </EM>
is only on the specific navigation, so it possible for a sub-frame to be stopped, while the main page and maybe other sub-frames complete.</P>
<P CLASS="RBody">
<A NAME="pgfId-10426126"></A>On Cocoa there is no automatically generated error page, so the return value of <EM CLASS="Variable">
cancel</EM>
 <CODE CLASS="Code">
nil</CODE>
 means the same as <CODE CLASS="Code">
t</CODE>
, and both display whatever the server returned.</P>
<P CLASS="RBody">
<A NAME="pgfId-10426131"></A><B CLASS="Bold">
Note:</B>
 To redirect on error, <EM CLASS="Variable">
navigate-error-callback </EM>
should just call <A HREF="capiref-20.htm#67236" CLASS="XRef">browser-pane-navigate</A> with the new page and return <CODE CLASS="Code">
:stop</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629756"></A>If <EM CLASS="Variable">
title-change-callback</EM>
 is non-nil, it is called when the title of the pane should change. It should have this signature:</P>
<P CLASS="RSignature">
<A NAME="pgfId-9629757"></A>title-change-callback <EM CLASS="Variable">
pane</EM>
 <EM CLASS="Variable">
new-title</EM>
</P>
<P CLASS="RBody">
<A NAME="pgfId-9629758"></A><EM CLASS="Variable">
new-title</EM>
 is a string, which the application should use as the title of the pane.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629759"></A><B CLASS="Bold">
Note:</B>
 In most cases, using the <EM CLASS="Variable">
title</EM>
 argument of the <EM CLASS="Variable">
document-complete-callback</EM>
 is more useful.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629760"></A>If <EM CLASS="Variable">
status-text-change-callback</EM>
 is non-nil, it is called when the status text of the pane should change. It has this signature:</P>
<P CLASS="RSignature">
<A NAME="pgfId-9629761"></A>status-text-change-callback <EM CLASS="Variable">
pane</EM>
 <EM CLASS="Variable">
new-status-text</EM>
</P>
<P CLASS="RBody">
<A NAME="pgfId-9629762"></A><EM CLASS="Variable">
new-status-text</EM>
 is a string, which the application should use as the status text for the pane.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629769"></A>If <EM CLASS="Variable">
update-commands-callback</EM>
 is non-nil, it is called when other panes (typically buttons or menu items) that are used to perform commands on the pane need to update. The callback has this signature:</P>
<P CLASS="RSignature">
<A NAME="pgfId-9629771"></A>update-commands-callback <EM CLASS="Variable">
pane</EM>
 <EM CLASS="Variable">
what</EM>
 <EM CLASS="Variable">
enabled-p</EM>
</P>
<P CLASS="RBody">
<A NAME="pgfId-9629772"></A>Currently <EM CLASS="Variable">
what</EM>
 can be one of:</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9629773"></A><CODE CLASS="Code">
:forward</CODE>
</P>
<P CLASS="RDescription-C">Other panes that are used to go forward in the pane should be enabled or disabled.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9629774"></A><CODE CLASS="Code">
:backward</CODE>
</P>
<P CLASS="RDescription-C">Other panes that are used to go backward in the pane should be enabled or disabled.</P>
<P CLASS="RDescription">
<A NAME="pgfId-10497885"></A>Additionally on Microsoft Windows only, <EM CLASS="Variable">
what</EM>
 can be:</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9629775"></A><CODE CLASS="Code">
t</CODE>
</P>
<P CLASS="RDescription-C">Other panes that may try to anything with the pane may need updating. Note that this callback is called quite often with <EM CLASS="Variable">
what</EM>
 = <CODE CLASS="Code">
t</CODE>
, so make sure it usually does not do much work in this case.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629776"></A><EM CLASS="Variable">
enabled-p</EM>
 specifies whether the other panes should be enabled or disabled.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629778"></A>On Windows only, if<EM CLASS="Variable">
 internet-explorer-callback</EM>
 is non-nil, it is called for each event for the pane. It has the signature</P>
<P CLASS="RSignature">
<A NAME="pgfId-9629779"></A>internet-explorer-callback <EM CLASS="Variable">
pane</EM>
 <EM CLASS="Variable">
event-name</EM>
 <EM CLASS="Variable">
args</EM>
</P>
<P CLASS="RBody">
<A NAME="pgfId-9629780"></A><EM CLASS="Variable">
event-name</EM>
 is a string specifying the event. <EM CLASS="Variable">
args</EM>
 is a vector containing the arguments in order. The callback is called before any code that is used to implement the callbacks, which is called afterwards withe same argument vector. That means that the callback should not set anything in the vector, except when debugging.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629781"></A><EM CLASS="Variable">
internet-explorer-callback</EM>
 is intended to add functionality that is not given by the callbacks, and for debugging (but see also <CODE CLASS="Code">
:debug</CODE>
). If you need more control, you probably wants to define your pane directly: for the basics see<BR>
<CODE CLASS="Code">
examples/com/ole/html-pane.lisp</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629787"></A><EM CLASS="Variable">
debug</EM>
 specifies that the pane should be in debugging mode. Currently, on Microsoft Windows this means that it prints each event and the arguments that it receives. Whenever an event is sent to the sink associated with the embedded browser, the method name (which is the same as the event name in this case) and the argument are printed to <CODE CLASS="Code">
mp:*background-standard-output*</CODE>
. On Cocoa it prints some diagnostics to <CODE CLASS="Code">
mp:*background-standard-output*</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-10541908"></A><CODE CLASS="Code">
browse-pane-url</CODE>
 returns the current <EM CLASS="Variable">
url</EM>
 of the pane. Initially the value is the keyword <CODE CLASS="Code">
:url</CODE>
, but once the browser completed navigation to some URL it is changed to this. Note that the <EM CLASS="Variable">
url</EM>
 changes even if the navigation was not successful, as long as it was not stopped or cancelled and there was no substitution page.</P>
<P CLASS="RBody">
<A NAME="pgfId-9629790"></A><CODE CLASS="Code">
browse-pane-title</CODE>
 returns the title of the current document. Note that during navigation <CODE CLASS="Code">
browse-pane-title</CODE>
 and <CODE CLASS="Code">
browse-pane-url</CODE>
 may not be synchronised. They are synchronised when <EM CLASS="Variable">
document-complete-callback</EM>
 is called, until the next <EM CLASS="Variable">
before-navigate-callback</EM>
 call.</P>
<P CLASS="RBody">
<A NAME="pgfId-9676173"></A><CODE CLASS="Code">
browser-pane-successful-p</CODE>
 tests whether the navigation to the current URL completed successfully, returning <CODE CLASS="Code">
nil</CODE>
 for failure and <CODE CLASS="Code">
t</CODE>
 for success. On Microsoft Windows only it can also return <CODE CLASS="Code">
:substituted</CODE>
, which means that the server returned an error but also supplied a substitution page. On Cocoa, <CODE CLASS="Code">
browser-pane-successful-p</CODE>
 returns only <CODE CLASS="Code">
t</CODE>
 or <CODE CLASS="Code">
nil</CODE>
.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9713743"></A>Notes</H5>
<P CLASS="RBody">
<A NAME="pgfId-9713747"></A><A HREF="capiref-19.htm#87651" CLASS="XRef">browser-pane</A> and related APIs are implemented on Microsoft Windows and Cocoa only.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9629792"></A>See also</H5>
<P CLASS="RBody">
<A NAME="pgfId-9629793"></A><A HREF="capiref-20.htm#67236" CLASS="XRef">browser-pane-navigate</A><BR>
<A HREF="capiref-20.htm#11361" CLASS="XRef">browser-pane-busy</A><BR>
<A HREF="capiref-20.htm#20455" CLASS="XRef">browser-pane-refresh</A></P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">CAPI Reference Manual - 15 Dec 2011</I></P>
<P><A HREF="capiref-20.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-18.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
