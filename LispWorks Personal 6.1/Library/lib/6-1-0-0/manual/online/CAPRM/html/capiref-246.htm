<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="capiref.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 menu-component
</TITLE>

<LINK REL="next" HREF="capiref-247.htm" TYPE="text/html">
<LINK REL="prev" HREF="capiref-245.htm" TYPE="text/html">
<LINK REL="up" HREF="capiref-4.htm" TYPE="text/html">
<LINK REL="top" HREF="capiref.htm" TYPE="text/html">
<LINK REL="contents" HREF="capiref-2.htm" TYPE="text/html">
<LINK REL="index" HREF="capiref-693.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="capiref.htm">CAPI Reference Manual</A> &gt; <A HREF="capiref-4.htm">1 CAPI Reference Entries</A><BR><BR>
</DIV><A HREF="capiref-247.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-245.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-900346"></A><A NAME="24767"></A>menu<A NAME="marker-4170757"></A>-component</H4>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-900434"></A>Class</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-900347"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-900352"></A>The class <CODE CLASS="Code">
menu-component</CODE>
 is a choice that is used to group menu items and submenus both visually and functionally. The items contained by the <CODE CLASS="Code">
menu-component</CODE>
 appear separated from other items, menus, or menu components, by separators. </P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-4170746"></A>Package</H5>
<P CLASS="RSignature">
<A NAME="pgfId-4170747"></A>capi</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-900356"></A>Superclasses</H5>
<P CLASS="RSignature">
<A NAME="pgfId-900358"></A><A HREF="capiref-33.htm#22482" CLASS="XRef">choice</A><BR>
<A HREF="capiref-448.htm#31725" CLASS="XRef">titled-menu-object</A></P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-900361"></A>Initargs</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-900363"></A><CODE CLASS="Code">
:items</CODE>
<A NAME="marker-952882"></A></P>
<P CLASS="RDescription-C">The items to appear in the menu.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-900364"></A><CODE CLASS="Code">
:items-function</CODE>
<A NAME="marker-952883"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-944300"></A>A setup callback function to dynamically compute the items.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-3752747"></A><CODE CLASS="Code">
:selection-function</CODE>
<A NAME="marker-3752746"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-3752748"></A>A setup callback function to dynamically compute the selection.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-3752923"></A><CODE CLASS="Code">
:selected-item-function</CODE>
<A NAME="marker-3752922"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-3752924"></A>A setup callback function to dynamically compute the selected item.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-3754959"></A><CODE CLASS="Code">
:selected-items-function</CODE>
<A NAME="marker-3754958"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-3754960"></A>A setup callback function to dynamically compute the selected items.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-900366"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-900368"></A>Because <CODE CLASS="Code">
menu-component</CODE>
 is a choice, the component can have <EM CLASS="Variable">
interaction</EM>
 <CODE CLASS="Code">
:no-selection</CODE>
, <CODE CLASS="Code">
:single-selection</CODE>
 or <CODE CLASS="Code">
:multiple-selection</CODE>
 (extended selection does not apply here). This is represented visually in the menu as appropriate to the window system that the CAPI is running on (by ticks in Microsoft Windows, and by radio buttons and check buttons in Motif). </P>
<P CLASS="RBody">
<A NAME="pgfId-2178354"></A>Note that it is not appropriate to have menu components or submenus inside <CODE CLASS="Code">
:single-selection</CODE>
 and <CODE CLASS="Code">
:multiple-selection</CODE>
 components, but it is OK in <CODE CLASS="Code">
:no-selection</CODE>
 components. </P>
<P CLASS="RBody">
<A NAME="pgfId-1590648"></A><EM CLASS="Variable">
items</EM>
 and <EM CLASS="Variable">
items-function</EM>
 behave as in <A HREF="capiref-245.htm#19220" CLASS="XRef">menu</A>.</P>
<P CLASS="RBody">
<A NAME="pgfId-3755031"></A>No more than one of <EM CLASS="Variable">
selection-function</EM>
, <EM CLASS="Variable">
selected-item-function</EM>
 and <EM CLASS="Variable">
selected-items-function</EM>
 should be non-nil. Each defaults to <CODE CLASS="Code">
nil</CODE>
. If one of these setup callbacks is supplied, it should be a function which is called before the <CODE CLASS="Code">
menu-component</CODE>
 is displayed and which determines which items are selected. By default the setup callback is called on the interface of the <CODE CLASS="Code">
menu-component</CODE>
, but this argument can be changed by passing the <A HREF="capiref-248.htm#21554" CLASS="XRef">menu-object</A> initarg <EM CLASS="Variable">
setup-callback-argument</EM>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-3755106"></A><EM CLASS="Variable">
selection-function</EM>
, if non-nil, should return a value which is  suitable for passing to the <A HREF="capiref-33.htm#22482" CLASS="XRef">choice</A> accessor <CODE CLASS="Code">
(setf choice-selection)</CODE>
. This will be <CODE CLASS="Code">
nil</CODE>
, or a single index (for <EM CLASS="Variable">
interaction</EM>
 <CODE CLASS="Code">
:single-selection</CODE>
), or a list of item indices (for <EM CLASS="Variable">
interaction</EM>
 <CODE CLASS="Code">
:multiple-selection</CODE>
 and <CODE CLASS="Code">
:extended-selection</CODE>
).</P>
<P CLASS="RBody">
<A NAME="pgfId-3755189"></A><EM CLASS="Variable">
selected-item-function</EM>
, if non-nil, should return an object which is an item in the <CODE CLASS="Code">
menu-component</CODE>
, or is equal to such an item when compared by the <CODE CLASS="Code">
menu-component</CODE>
's <EM CLASS="Variable">
test-function</EM>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-3755246"></A><EM CLASS="Variable">
selected-items-function</EM>
, if non-nil, should return a list of such objects.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-3755144"></A>Example</H5>
<PRE CLASS="RCode-first"><A NAME="pgfId-900377"></A>(capi:contain (make-instance </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900882"></A>              'capi:menu-component</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900379"></A>              :items '(:red :green :blue)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900380"></A>              :print-function 'string-capitalize</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-900381"></A>              :interaction :single-selection))</PRE>
<PRE CLASS="RCode-first"><A NAME="pgfId-900385"></A>(capi:contain (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900835"></A>               'capi:menu-component</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900387"></A>               :items '(:red :green :blue)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900388"></A>               :print-function 'string-capitalize</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-900870"></A>               :interaction :multiple-selection))</PRE>
<PRE CLASS="RCode-first"><A NAME="pgfId-900393"></A>(capi:contain (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900395"></A>               'capi:menu</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900396"></A>               :items (list</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900397"></A>                       &quot;An Item&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900398"></A>                       (make-instance </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900809"></A>                        'capi:menu-component</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900399"></A>                        :items '(:red :green :blue)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900400"></A>                        :print-function</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900817"></A>                         'string-capitalize</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-900401"></A>                        :interaction :no-selection)</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-900402"></A>                        &quot;Another Item&quot;)))</PRE>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-900410"></A>See also</H5>
<P CLASS="RBody">
<A NAME="pgfId-900412"></A><A HREF="capiref-245.htm#19220" CLASS="XRef">menu</A><BR>
<A HREF="capiref-247.htm#29489" CLASS="XRef">menu-item</A></P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">CAPI Reference Manual - 15 Dec 2011</I></P>
<P><A HREF="capiref-247.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-245.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
