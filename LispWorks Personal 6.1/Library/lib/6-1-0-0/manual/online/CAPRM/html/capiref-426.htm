<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="capiref.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 tab-layout
</TITLE>

<LINK REL="next" HREF="capiref-427.htm" TYPE="text/html">
<LINK REL="prev" HREF="capiref-425.htm" TYPE="text/html">
<LINK REL="up" HREF="capiref-4.htm" TYPE="text/html">
<LINK REL="top" HREF="capiref.htm" TYPE="text/html">
<LINK REL="contents" HREF="capiref-2.htm" TYPE="text/html">
<LINK REL="index" HREF="capiref-693.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="capiref.htm">CAPI Reference Manual</A> &gt; <A HREF="capiref-4.htm">1 CAPI Reference Entries</A><BR><BR>
</DIV><A HREF="capiref-427.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-425.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-957437"></A><A NAME="79515"></A>tab<A NAME="marker-4232024"></A>-layout</H4>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-957444"></A>Class</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-957456"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-1168055"></A>The class <CODE CLASS="Code">
tab-layout</CODE>
 has two distinct modes. Switchable mode lays a number of panes in a switchable layout. Each pane has an associated tab which, when clicked on, pulls the pane to the front. In callback mode the tabs are linked to a <EM CLASS="Variable">
selection-callback</EM>
 as for <A HREF="capiref-23.htm#40715" CLASS="XRef">button-panel</A>.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-4232000"></A>Package</H5>
<P CLASS="RSignature">
<A NAME="pgfId-4232001"></A>capi</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1168054"></A>Superclasses</H5>
<P CLASS="RSignature">
<A NAME="pgfId-957564"></A><A HREF="capiref-33.htm#22482" CLASS="XRef">choice</A><BR>
<A HREF="capiref-211.htm#12861" CLASS="XRef">layout</A></P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-957582"></A>Initargs</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-957602"></A><CODE CLASS="Code">
:description</CODE>
<A NAME="marker-959564"></A></P>
<P CLASS="RDescription-C">The main layout description.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-958575"></A><CODE CLASS="Code">
:items</CODE>
<A NAME="marker-959565"></A></P>
<P CLASS="RDescription-C">Specifies the tabs of the tab layout.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-958594"></A><CODE CLASS="Code">
:visible-child-function</CODE>
<A NAME="marker-959570"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-958718"></A>Returns the visible child for a given selection in switchable mode.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-7883736"></A><CODE CLASS="Code">
:combine-child-constraints</CODE>
<A NAME="marker-7883735"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-7883737"></A>A generalized boolean which influences the initial size of the layout.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-958595"></A><CODE CLASS="Code">
:key-function</P>
<P CLASS="RDescription-C"></CODE>
<A NAME="marker-959571"></A>Specifies a function to use in referring to items in the <EM CLASS="Variable">
items</EM>
 list.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-958719"></A><CODE CLASS="Code">
:print-function</CODE>
<A NAME="marker-959572"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-958720"></A>The function used to print a name on each tab.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-958724"></A><CODE CLASS="Code">
:callback-type</CODE>
<A NAME="marker-959573"></A></P>
<P CLASS="RDescription-C">The type of data passed to the callback function in callback mode.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-958725"></A><CODE CLASS="Code">
:selection-callback</CODE>
<A NAME="marker-959574"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-958726"></A>The function called when a tab is selected, in callback mode.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9243469"></A><CODE CLASS="Code">
:image-function</CODE>
<A NAME="marker-9244118"></A><A NAME="marker-9856942"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9243503"></A>Returns an image for an item, on Microsoft Windows.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9243455"></A><CODE CLASS="Code">
:image-lists</CODE>
<A NAME="marker-9244123"></A><A NAME="marker-9856949"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9244728"></A>A plist of keywords and <A HREF="capiref-177.htm#12301" CLASS="XRef">image-list</A> objects, on Microsoft Windows.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-3280298"></A>Accessors</H5>
<P CLASS="RSignature">
<A NAME="pgfId-3280397"></A><A NAME="marker-3835025"></A>tab-layout-visible-child-function</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-7383315"></A>Readers</H5>
<P CLASS="RSignature">
<A NAME="pgfId-7383319"></A><A NAME="marker-7383318"></A>tab-layout-combine-child-constraints<BR>
<A NAME="marker-9244919"></A>tab-layout-image-function<A NAME="marker-9856956"></A></P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-957608"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-957632"></A>A <CODE CLASS="Code">
tab-layout</CODE>
 has one of two distinct modes. It is in switchable mode if <EM CLASS="Variable">
visible-child-function</EM>
 is supplied and non-nil. It is in callback mode otherwise.</P>
<P CLASS="RBody">
<A NAME="pgfId-3280280"></A>In switchable mode, the tab layout consists of a number of panes, each with its own tab. Clicking on a tab pulls the corresponding pane to the front. In this mode the tab layout is like a <A HREF="capiref-424.htm#30881" CLASS="XRef">switchable-layout</A> with the switching performed by the user selecting a tab. In this mode the <EM CLASS="Variable">
visible-child-function</EM>
 is used to specify which child to make visible for a given tab selection.</P>
<P CLASS="RBody">
<A NAME="pgfId-958574"></A>In callback mode the tab layout does not work as a switchable layout, and the result of any selection is specified using a callback specified by <EM CLASS="Variable">
selection-callback</EM>
, in a similar way to a <A HREF="capiref-23.htm#40715" CLASS="XRef">button-panel</A> callback. In this mode the <EM CLASS="Variable">
description</EM>
 slot is used to describe the main layout of the tab pane.</P>
<P CLASS="RBody">
<A NAME="pgfId-7383300"></A>In either mode <EM CLASS="Variable">
combine-child-constraints</EM>
 influences the initial size of the layout. When <EM CLASS="Variable">
combine-child-constraints</EM>
 is <CODE CLASS="Code">
nil</CODE>
 the constraints of the tab layout depend only on its currently visible tab. Switching to a different tab might cause the layout to resize. When <EM CLASS="Variable">
combine-child-constraints</EM>
 is non-nil, the constraints depend on all of the tabs, including those that are not visible. This might increase the time taken to create the tab layout initially, but can prevent unexpected resizing later. The default value of <EM CLASS="Variable">
combine-child-constraints</EM>
 is <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-9244925"></A>If <EM CLASS="Variable">
image-lists</EM>
 is specified, it should be a plist containing the keyword <CODE CLASS="Code">
:normal</CODE>
 as a key. The corresponding value should be an <A HREF="capiref-177.htm#12301" CLASS="XRef">image-list</A> object. No other keys are supported at the present time. The <A HREF="capiref-177.htm#12301" CLASS="XRef">image-list</A> associated with the <CODE CLASS="Code">
:normal</CODE>
 key is used with the <EM CLASS="Variable">
image-function</EM>
 to specify an image to display in each tab.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9245104"></A>The <EM CLASS="Variable">
image-function</EM>
 is called on an item to return an image associated with the item. It can return one of the following: </P>
<P CLASS="RDescription">
<A NAME="pgfId-9246089"></A>A pathname or string</P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9245105"></A>This specifies the filename of a file suitable for loading with <A HREF="capiref-592.htm#43526" CLASS="XRef">load-image</A>. Currently this must be a bitmap file.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9245109"></A>A symbol</P>
<P CLASS="RDescription-C">The symbol must have been previously registered by means of a call to <CODE CLASS="Code">
<A HREF="capiref-627.htm#80995" CLASS="XRef">register-image-translation</A></CODE>
.</P>
<P CLASS="RDescription">
<A NAME="pgfId-9245116"></A>An image object, as returned by <A HREF="capiref-592.htm#43526" CLASS="XRef">load-image</A>.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9245117"></A>An image locator object</P>
<P CLASS="RDescription-C">
<A NAME="pgfId-9245118"></A>This allowing a single bitmap to be created which contains several button images side by side. See <A HREF="capiref-232.htm#38910" CLASS="XRef">make-image-locator</A> for more information. On Microsoft Windows, it also allows access to bitmaps stored as resources in a DLL.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9245122"></A>An integer</P>
<P CLASS="RDescription-C">This is a zero-based index into the tab-layout's <A HREF="capiref-177.htm#12301" CLASS="XRef">image-list</A>. This is generally only useful if the image list is created explicitly. See <A HREF="capiref-177.htm#12301" CLASS="XRef">image-list</A> for more details.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9246126"></A>Notes</H5>
<P CLASS="RBody">
<A NAME="pgfId-9246127"></A><EM CLASS="Variable">
image-lists</EM>
 and <EM CLASS="Variable">
image-function</EM>
 are implemented only on Microsoft Windows.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-9246128"></A>Example</H5>
<P CLASS="RBody">
<A NAME="pgfId-957792"></A>The following example shows the use of the switchable mode of <CODE CLASS="Code">
tab-layout</CODE>
. Each tab is linked to an output pane by pairing them in the <EM CLASS="Variable">
items</EM>
 list.</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-1754543"></A>(defun switchable-tab-layout ()</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754544"></A>  (let* ((red-pane (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754545"></A>                    'capi:output-pane</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754546"></A>                    :background :red))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754547"></A>         (blue-pane (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754548"></A>                     'capi:output-pane</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754549"></A>                     :background :blue))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754550"></A>         (tl (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754551"></A>              'capi:tab-layout</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754552"></A>              :items </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754553"></A>              (list (list &quot;Red&quot; red-pane)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754554"></A>                    (list &quot;Blue&quot; blue-pane))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754555"></A>              :print-function 'car</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754556"></A>              :visible-child-function 'second)))</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-958193"></A>    (capi:contain tl)))</PRE>
<CODE CLASS="RCode-line">
<A NAME="pgfId-1754753"></A>(switchable-tab-layout)</CODE>
<P CLASS="RBody">
<A NAME="pgfId-958335"></A>Here is an example of the callback mode of <CODE CLASS="Code">
tab-layout</CODE>
, which uses the selection of a tab to change the nodes of a graph pane through the <EM CLASS="Variable">
selection-callback</EM>
.</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-1754888"></A>(defun non-switchable-tab-layout (tabs)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754889"></A>  (let* ((gp (make-instance </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754890"></A>              'capi:graph-pane))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754891"></A>         (tl (make-instance </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754892"></A>              'capi:tab-layout</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754893"></A>              :description (list gp)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754894"></A>              :items tabs</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754895"></A>              :visible-child-function nil</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754896"></A>              :key-function nil</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754897"></A>              :print-function </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754898"></A>              (lambda (x) </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754899"></A>                (format nil &quot;&#126;R&quot; x))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754900"></A>              :callback-type :data</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754901"></A>              :selection-callback </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754902"></A>              #'(lambda (data) </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754903"></A>                  (setf (capi:graph-pane-roots gp)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1754904"></A>                        (list data))))))</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-959498"></A>    (capi:contain tl)))</PRE>
<CODE CLASS="RCode-line">
<A NAME="pgfId-1755208"></A>(non-switchable-tab-layout '(1 2 4 5 6))</CODE>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-957638"></A>See also</H5>
<P CLASS="RBody">
<A NAME="pgfId-957743"></A><A HREF="capiref-26.htm#13019" CLASS="XRef">callbacks</A><BR>
<A HREF="capiref-406.htm#10300" CLASS="XRef">simple-layout</A><BR>
<A HREF="capiref-424.htm#30881" CLASS="XRef">switchable-layout</A><BR>
<A HREF="capiref-427.htm#37087" CLASS="XRef">tab-layout-panes</A><BR>
<A HREF="capiref-428.htm#68806" CLASS="XRef">tab-layout-visible-child</A></P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">CAPI Reference Manual - 15 Dec 2011</I></P>
<P><A HREF="capiref-427.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-425.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
