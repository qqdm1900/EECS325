<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="capiref.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 display-dialog
</TITLE>

<LINK REL="next" HREF="capiref-78.htm" TYPE="text/html">
<LINK REL="prev" HREF="capiref-76.htm" TYPE="text/html">
<LINK REL="up" HREF="capiref-4.htm" TYPE="text/html">
<LINK REL="top" HREF="capiref.htm" TYPE="text/html">
<LINK REL="contents" HREF="capiref-2.htm" TYPE="text/html">
<LINK REL="index" HREF="capiref-693.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="capiref.htm">CAPI Reference Manual</A> &gt; <A HREF="capiref-4.htm">1 CAPI Reference Entries</A><BR><BR>
</DIV><A HREF="capiref-78.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-76.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-1639225"></A><A NAME="34181"></A>display<A NAME="marker-4013531"></A>-dialog</H4>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-891927"></A>Generic Function</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-891456"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-1017054"></A>The <CODE CLASS="Code">
display-dialog</CODE>
 function displays a CAPI interface as a dialog box.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-4013520"></A>Package</H5>
<P CLASS="RSignature">
<A NAME="pgfId-4013521"></A>capi</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1017053"></A>Signature</H5>
<P CLASS="RSignature">
<A NAME="pgfId-891458"></A>display-dialog <EM CLASS="Variable">
interface</EM>
 &amp;key <EM CLASS="Variable">
screen</EM>
 <EM CLASS="Variable">
focus</EM>
 <EM CLASS="Variable">
modal</EM>
 <EM CLASS="Variable">
owner</EM>
 <EM CLASS="Variable">
x</EM>
 <EM CLASS="Variable">
y</EM>
 <EM CLASS="Variable">
position-relative-to</EM>
 <EM CLASS="Variable">
continuation</EM>
 <EM CLASS="Variable">
callback-error-handler</EM>
 =&gt; <EM CLASS="Variable">
result</EM>
, <EM CLASS="Variable">
okp</EM>
</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-2005698"></A>Arguments</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-2005726"></A><EM CLASS="Variable">
interface</EM>
</P>
<P CLASS="RDescription-C">A CAPI interface.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-2005756"></A><EM CLASS="Variable">
screen</EM>
</P>
<P CLASS="RDescription-C">A screen.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-2005768"></A><EM CLASS="Variable">
focus</EM>
</P>
<P CLASS="RDescription-C">A pane of <EM CLASS="Variable">
interface</EM>
.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-2005777"></A><EM CLASS="Variable">
modal</EM>
</P>
<P CLASS="RDescription-C"><CODE CLASS="Code">
t</CODE>
, <CODE CLASS="Code">
:dismiss-on-input</CODE>
 or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-2006070"></A><EM CLASS="Variable">
owner</EM>
</P>
<P CLASS="RDescription-C">A pane.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-2006162"></A><EM CLASS="Variable">
x, y</EM>
</P>
<P CLASS="RDescription-C">Real numbers representing coordinates, or keywords or lists specifying an adjusted position.</P>
<P CLASS="RDescription">
<A NAME="pgfId-6660871"></A><EM CLASS="Variable">
position-relative-to</EM>
</P>
<P CLASS="RDescription-C">
<A NAME="pgfId-6660872"></A><CODE CLASS="Code">
:owner</CODE>
 or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-6660902"></A><EM CLASS="Variable">
continuation</EM>
</P>
<P CLASS="RDescription-C">A function or <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RDescription">
<A NAME="pgfId-8693053"></A><EM CLASS="Variable">
callback-error-handler</EM>
</P>
<P CLASS="RDescription-C">
<A NAME="pgfId-8693054"></A>A function designator or <CODE CLASS="Code">
nil</CODE>
.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-6661175"></A>Values</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-6661240"></A><EM CLASS="Variable">
result</EM>
</P>
<P CLASS="RDescription-C">An object.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-6661244"></A><EM CLASS="Variable">
okp</EM>
</P>
<P CLASS="RDescription-C">A boolean.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-6660873"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-891462"></A>This is a complementary function that displays the CAPI <A HREF="capiref-184.htm#30394" CLASS="XRef">interface</A> <EM CLASS="Variable">
interface</EM>
 as a dialog box.</P>
<P CLASS="RBody">
<A NAME="pgfId-892040"></A><EM CLASS="Variable">
screen</EM>
 is the <A HREF="capiref-363.htm#41931" CLASS="XRef">screen</A> for the dialog to be displayed on.</P>
<P CLASS="RBody">
<A NAME="pgfId-2016756"></A><EM CLASS="Variable">
focus</EM>
 should be the pane within the interface that should be given the focus initially. If a focus is not supplied, then it lets the window system decide. </P>
<P CLASS="RBody">
<A NAME="pgfId-2016790"></A>A true value of <EM CLASS="Variable">
modal</EM>
 indicates that the dialog takes over all input to the application. Additionally, if <EM CLASS="Variable">
modal</EM>
 is <CODE CLASS="Code">
:dismiss-on-input</CODE>
 then any user gesture (a button or key press) causes the dialog to disappear. <CODE CLASS="Code">
:dismiss-on-input</CODE>
 works on platforms other than Motif. The default value of <EM CLASS="Variable">
modal</EM>
 is <CODE CLASS="Code">
t</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-2023858"></A><EM CLASS="Variable">
owner</EM>
 specifies an owner window for the dialog. See the &quot;Prompting for Input&quot; chapter in the <I CLASS="Italic">
CAPI User Guide</I>
 for details.</P>
<P CLASS="RBody">
<A NAME="pgfId-5388827"></A><EM CLASS="Variable">
</EM>
If <EM CLASS="Variable">
x</EM>
 and <EM CLASS="Variable">
y</EM>
 are numbers they specify the coordinates of the dialog. Alternatively <EM CLASS="Variable">
x</EM>
 and <EM CLASS="Variable">
y</EM>
 can be keywords like <CODE CLASS="Code">
:left</CODE>
 and <CODE CLASS="Code">
:top</CODE>
, or lists like <CODE CLASS="Code">
(:left 100)</CODE>
, <CODE CLASS="Code">
(:bottom 50)</CODE>
 and so on.. These values cause the dialog to be positioned relative to its owner in the same way as the <EM CLASS="Variable">
adjust</EM>
 argument to <A HREF="capiref-279.htm#57877" CLASS="XRef">pane-adjusted-position</A>. The default location is at the center of the dialog's owner.</P>
<P CLASS="RBody">
<A NAME="pgfId-6691065"></A><EM CLASS="Variable">
position-relative-to</EM>
 has a default value <CODE CLASS="Code">
:owner</CODE>
, meaning that <EM CLASS="Variable">
x</EM>
 and <EM CLASS="Variable">
y</EM>
 are relative to dialog's owner. The value <CODE CLASS="Code">
nil</CODE>
 means that <EM CLASS="Variable">
x</EM>
 and <EM CLASS="Variable">
y</EM>
 are relative to the screen.</P>
<P CLASS="RBody">
<A NAME="pgfId-6691066"></A>If <A NAME="marker-6691174"></A><EM CLASS="Variable">
continuation</EM>
 is non-nil, then it must be a function with a lambda list that accepts two arguments. The <EM CLASS="Variable">
continuation</EM>
 function is called with the values that would normally be returned by <CODE CLASS="Code">
display-dialog</CODE>
. On Cocoa, passing <EM CLASS="Variable">
continuation</EM>
 causes the dialog to be made as a <A NAME="marker-6694697"></A>window-modal sheet and <CODE CLASS="Code">
display-dialog</CODE>
 returns immediately, leaving the dialog on the screen. The <A HREF="capiref-482.htm#92889" CLASS="XRef">with-dialog-results</A> macro provides a convenient way to create a <EM CLASS="Variable">
continuation</EM>
 function.</P>
<P CLASS="RBody">
<A NAME="pgfId-6661247"></A>The values returned depend on how the dialog is dismissed. Typically a user gesture will trigger a call to <A HREF="capiref-6.htm#24290" CLASS="XRef">abort-dialog</A>, causing the values <CODE CLASS="Code">
nil</CODE>
, <CODE CLASS="Code">
nil</CODE>
 to be returned or to <A HREF="capiref-136.htm#33351" CLASS="XRef">exit-dialog</A> causing the values <EM CLASS="Variable">
result</EM>
, <CODE CLASS="Code">
t</CODE>
 to be returned, where <EM CLASS="Variable">
result</EM>
 is the argument to <A HREF="capiref-136.htm#33351" CLASS="XRef">exit-dialog</A>. If <EM CLASS="Variable">
continuation</EM>
 is non-nil, then the returrned values are always <CODE CLASS="Code">
:continuation</CODE>
, <CODE CLASS="Code">
nil</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-6662073"></A>The CAPI also provides <A HREF="capiref-300.htm#12695" CLASS="XRef">popup-confirmer</A> which gives you the standard <B CLASS="Button">
OK</B>
 and <B CLASS="Button">
Cancel</B>
 button functionality.</P>
<P CLASS="RBody">
<A NAME="pgfId-8693076"></A><EM CLASS="Variable">
callback-error-handler</EM>
 allows error handling in callbacks which is uniform across platforms, as described for <A HREF="capiref-300.htm#12695" CLASS="XRef">popup-confirmer</A>.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-4744519"></A>Notes</H5>
<OL>
<LI CLASS="RStep-1">
<A NAME="pgfId-8693211"></A>If you need to replace one dialog with another, you can use <A HREF="capiref-86.htm#92308" CLASS="XRef">display-replacable-dialog</A> and <A HREF="capiref-352.htm#47963" CLASS="XRef">replace-dialog</A>.</LI>
<LI CLASS="RStep">
<A NAME="pgfId-8940206"></A>In a modal dialog at least one button which aborts or exits the dialog must be provided in <EM CLASS="Variable">
interface</EM>
. This is the programmer's responsibility, as without such a button there is no way to clear the modal dialog. A straightforward way to add these buttons is to display the window via <A HREF="capiref-300.htm#12695" CLASS="XRef">popup-confirmer</A> which adds the buttons for you.</LI>
</OL>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-4744526"></A>Example</H5>
<PRE CLASS="RCode-first"><A NAME="pgfId-891472"></A>(capi:display-dialog</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-6662098"></A> (capi:make-container</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-891474"></A>  (make-instance 'capi:push-button-panel</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-891476"></A>                 :items '(&quot;OK&quot; &quot;Cancel&quot;)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-891477"></A>                 :callback-type :data</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-891478"></A>                   :callbacks '(capi:exit-dialog</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-891479"></A>                                    capi:abort-dialog))</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-891480"></A>  :title &quot;Empty Dialog&quot;))</PRE>
<P CLASS="RBody">
<A NAME="pgfId-1742322"></A>There are further examples in the directory <CODE CLASS="Code">
examples/capi/dialogs/</CODE>
.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-891489"></A>See also</H5>
<P CLASS="RBody">
<A NAME="pgfId-891491"></A><A HREF="capiref-6.htm#24290" CLASS="XRef">abort-dialog</A><BR>
<A HREF="capiref-76.htm#40005" CLASS="XRef">display</A><BR>
<A HREF="capiref-86.htm#92308" CLASS="XRef">display-replacable-dialog</A><BR>
<A HREF="capiref-136.htm#33351" CLASS="XRef">exit-dialog</A><BR>
<A HREF="capiref-184.htm#30394" CLASS="XRef">interface</A><BR>
<A HREF="capiref-300.htm#12695" CLASS="XRef">popup-confirmer</A><BR>
<A HREF="capiref-482.htm#92889" CLASS="XRef">with-dialog-results</A><BR>
<A HREF="capiref-477.htm#36757" CLASS="XRef">*update-screen-interfaces-hooks*</A></P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">CAPI Reference Manual - 15 Dec 2011</I></P>
<P><A HREF="capiref-78.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-76.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
