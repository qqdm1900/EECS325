<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="capiref.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 button
</TITLE>

<LINK REL="next" HREF="capiref-23.htm" TYPE="text/html">
<LINK REL="prev" HREF="capiref-21.htm" TYPE="text/html">
<LINK REL="up" HREF="capiref-4.htm" TYPE="text/html">
<LINK REL="top" HREF="capiref.htm" TYPE="text/html">
<LINK REL="contents" HREF="capiref-2.htm" TYPE="text/html">
<LINK REL="index" HREF="capiref-693.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="capiref.htm">CAPI Reference Manual</A> &gt; <A HREF="capiref-4.htm">1 CAPI Reference Entries</A><BR><BR>
</DIV><A HREF="capiref-23.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-21.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-885165"></A><A NAME="19366"></A>button<A NAME="marker-3944077"></A></H4>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-885339"></A>Class</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-885346"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-885210"></A>A <CODE CLASS="Code">
button</CODE>
 is a pane that displays either a piece of text or an  image, and that performs an action when pressed. Certain types of buttons can also be selected and deselected. </P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-3938069"></A>Package</H5>
<P CLASS="RSignature">
<A NAME="pgfId-3938070"></A>capi</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-885213"></A>Superclasses</H5>
<P CLASS="RSignature">
<A NAME="pgfId-885215"></A><A HREF="capiref-408.htm#40919" CLASS="XRef">simple-pane</A><BR>
<A HREF="capiref-205.htm#18686" CLASS="XRef">item</A></P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-885218"></A>Subclasses</H5>
<P CLASS="RSignature">
<A NAME="pgfId-885220"></A><A HREF="capiref-334.htm#25158" CLASS="XRef">push-button</A><BR>
<A HREF="capiref-337.htm#24120" CLASS="XRef">radio-button</A><BR>
<A HREF="capiref-31.htm#20125" CLASS="XRef">check-button</A></P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-885372"></A>Initargs</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-885226"></A><CODE CLASS="Code">
:interaction</CODE>
<A NAME="marker-952786"></A></P>
<P CLASS="RDescription-C">The interaction style for the button.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-885227"></A><CODE CLASS="Code">
:selected</CODE>
<A NAME="marker-952787"></A></P>
<P CLASS="RDescription-C">For radio button and check button styles, if <CODE CLASS="Code">
selected</CODE>
 is set to <CODE CLASS="Code">
t</CODE>
, the button is initially selected. </P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-885228"></A><CODE CLASS="Code">
:callback</CODE>
<A NAME="marker-952788"></A></P>
<P CLASS="RDescription-C">Specifies the callback to use when the button is selected.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-885229"></A><CODE CLASS="Code">
:image</CODE>
<A NAME="marker-952789"></A></P>
<P CLASS="RDescription-C">An image for the button (or <CODE CLASS="Code">
nil</CODE>
).</P>
<P CLASS="RDescription">
<A NAME="pgfId-2266985"></A><CODE CLASS="Code">
:selected-image</CODE>
<A NAME="marker-2266984"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-2266478"></A>The image used when the button is selected.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-885231"></A><CODE CLASS="Code">
:enabled</CODE>
<A NAME="marker-952791"></A></P>
<P CLASS="RDescription-C">If <CODE CLASS="Code">
nil</CODE>
 the button cannot be selected.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-2267026"></A><CODE CLASS="Code">
:cancel-p</CODE>
<A NAME="marker-2267033"></A></P>
<P CLASS="RDescription-C">If true the button is the &quot;Cancel&quot; button, that is, the button selected by the <CODE CLASS="Code">
Escape</CODE>
 key.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-2267040"></A><CODE CLASS="Code">
:default-p</CODE>
<A NAME="marker-2267039"></A></P>
<P CLASS="RDescription-C">If true the button is the default button, that is, the button selected by the <CODE CLASS="Code">
Return</CODE>
 key.</P>
<P CLASS="RBody">
<A NAME="pgfId-3192333"></A>The following two initargs controlling alternate images apply only on Motif and Microsoft Windows:</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-3205943"></A><CODE CLASS="Code">
:disabled-image</CODE>
<A NAME="marker-3205942"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-3205944"></A>The image for the button when disabled (or <CODE CLASS="Code">
nil</CODE>
).</P>
<P CLASS="RDescription">
<A NAME="pgfId-3226037"></A><CODE CLASS="Code">
:selected-disabled-image</CODE>
<A NAME="marker-3226036"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-3226038"></A>The image used when the button is selected and disabled.</P>
<P CLASS="RBody">
<A NAME="pgfId-8483247"></A>The following initarg controlling another alternate image applies only on GTK+ and Motif and Microsoft Windows:</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-3205946"></A><CODE CLASS="Code">
:armed-image</CODE>
<A NAME="marker-3205945"></A></P>
<P CLASS="RDescription-C">The image used when the button is pressed and <EM CLASS="Variable">
interaction</EM>
 is <CODE CLASS="Code">
:no-selection</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-2283872"></A>The following initargs controlling mnemonics apply only on Microsoft Windows:</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-2280878"></A><CODE CLASS="Code">
:mnemonic</CODE>
<A NAME="marker-2280877"></A></P>
<P CLASS="RDescription-C">A character, integer or symbol specifying a mnemonic for the button.</P>
<P CLASS="RDescription">
<A NAME="pgfId-2280887"></A><CODE CLASS="Code">
:mnemonic-text</CODE>
<A NAME="marker-2280886"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-2282172"></A>A string specifying the text and a mnemonic.</P>
<P CLASS="RDescription">
<A NAME="pgfId-2283482"></A><CODE CLASS="Code">
:mnemonic-escape</CODE>
<A NAME="marker-2283823"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-2283483"></A>A character specifying the mnemonic escape. The default value is <CODE CLASS="Code">
#&#92;&amp;</CODE>
.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-885233"></A>Accessors</H5>
<P CLASS="RSignature">
<A NAME="pgfId-5489286"></A><A NAME="marker-5489285"></A>button-selected<BR>
<A NAME="marker-5489287"></A>button-image<BR>
<A NAME="marker-5489289"></A>button-armed-image<BR>
<A NAME="marker-5489290"></A>button-selected-image<BR>
<A NAME="marker-5489309"></A>button-disabled-image<BR>
<A NAME="marker-5489291"></A>button-selected-disabled-image<BR>
<A NAME="marker-5489292"></A>button-enabled<BR>
<A NAME="marker-5489293"></A>button-cancel-p<BR>
<A NAME="marker-5489294"></A>button-default-p</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-885243"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-5892331"></A>The class <CODE CLASS="Code">
button</CODE>
 is the class that <A HREF="capiref-334.htm#25158" CLASS="XRef">push-button</A>, <A HREF="capiref-337.htm#24120" CLASS="XRef">radio-button</A>, and <A HREF="capiref-31.htm#20125" CLASS="XRef">check-button</A> are built on. It can be displayed either with text or an image, and a callback is called when the button is clicked. It inherits all of its textual behavior from <A HREF="capiref-205.htm#18686" CLASS="XRef">item</A>, including the slot <EM CLASS="Variable">
text</EM>
 which is the text that appears in the button.</P>
<P CLASS="RBody">
<A NAME="pgfId-5892333"></A>Rather than creating direct instances of <CODE CLASS="Code">
button</CODE>
, you usually create instances of its subclasses, each of which has a specific interaction style. Occasionally it may be easier to instantiate <CODE CLASS="Code">
button</CODE>
 directly with the appropriate value of <EM CLASS="Variable">
interaction</EM>
 (for instance, when the interaction style is only known at run-time) but you may not use such a button as an item in a <A HREF="capiref-23.htm#40715" CLASS="XRef">button-panel</A>.</P>
<P CLASS="RBody">
<A NAME="pgfId-885250"></A>The values allowed for <EM CLASS="Variable">
interaction</EM>
 are as follows:</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-885254"></A><CODE CLASS="Code">
:no-selection</CODE>
<A NAME="marker-952793"></A></P>
<P CLASS="RDescription-C">A push button.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-885255"></A><CODE CLASS="Code">
:single-selection</CODE>
<A NAME="marker-952794"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-885427"></A>A radio button.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-885256"></A><CODE CLASS="Code">
:multiple-selection</CODE>
<A NAME="marker-952795"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-885428"></A>A check button.</P>
<P CLASS="RBody">
<A NAME="pgfId-885258"></A><A NAME="marker-952796"></A>Both radio buttons and check buttons can have a selection which can be set using the initarg <CODE CLASS="Code">
:selected</CODE>
 and the accessor <CODE CLASS="Code">
button-selected</CODE>
. </P>
<P CLASS="RBody">
<A NAME="pgfId-885261"></A>The button's callback gets called when the user clicks on the button, and by default gets passed the data in the button and the interface. This can be changed by specifying a callback type as described in the description of callbacks. The following callbacks are accepted by buttons: </P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-885266"></A><CODE CLASS="Code">
:selection-callback</CODE>
<A NAME="marker-3759695"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-885443"></A>Called when the button is selected.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-9131618"></A><CODE CLASS="Code">
:callback</CODE>
<A NAME="marker-9131616"></A><A NAME="marker-9131617"></A></P>
<P CLASS="RDescription-C">For buttons this is a synonym of <CODE CLASS="Code">
:selection-callback</CODE>
.</P>
<P CLASS="RDescription-Item">
<A NAME="pgfId-885267"></A><CODE CLASS="Code">
:retract-callback</CODE>
<A NAME="marker-3759700"></A></P>
<P CLASS="RDescription-C">
<A NAME="pgfId-885444"></A>Called when the button is deselected.</P>
<P CLASS="RBody">
<A NAME="pgfId-9233445"></A>By default, <EM CLASS="Variable">
image</EM>
 and <EM CLASS="Variable">
disabled-image</EM>
 are <CODE CLASS="Code">
nil</CODE>
, meaning that the button is a text button, but if <EM CLASS="Variable">
image</EM>
 is provided then the button displays an image instead of the text. The image can be an <A HREF="capiref-537.htm#53640" CLASS="XRef">external-image</A> or any object accepted by <A HREF="capiref-592.htm#43526" CLASS="XRef">load-image</A>, including a .ico file on Microsoft Windows. The disabled image is the image that is shown when the button is disabled (or <CODE CLASS="Code">
nil</CODE>
, meaning that it is left for the window system to decide how to display the image as disabled). On some platforms the system computes the disabled image and so <EM CLASS="Variable">
disabled-image</EM>
 is ignored.</P>
<P CLASS="RBody">
<A NAME="pgfId-885275"></A>The button's actions can be enabled and disabled with the <EM CLASS="Variable">
enabled</EM>
 slot, and its associated accessor <CODE CLASS="Code">
button-enabled</CODE>
. This means that when the button is disabled, pressing on it does not call any callbacks or change its selection. </P>
<P CLASS="RBody">
<A NAME="pgfId-885279"></A>Note that the class <A HREF="capiref-23.htm#40715" CLASS="XRef">button-panel</A> provides functionality to group buttons together, and should normally be used in preference to creating individual buttons yourself. For instance, a <A HREF="capiref-338.htm#40968" CLASS="XRef">radio-button-panel</A> makes a number of radio buttons and also controls them such that only one button is ever selected at a time. </P>
<P CLASS="RBody">
<A NAME="pgfId-1486744"></A>A mnemonic is an underlined character within the button <EM CLASS="Variable">
text</EM>
 or the printed representation of the button <EM CLASS="Variable">
data </EM>
which can be entered to select the button. The value <EM CLASS="Variable">
mnemonic</EM>
 is interpreted as described for <A HREF="capiref-245.htm#19220" CLASS="XRef">menu</A>.</P>
<P CLASS="RBody">
<A NAME="pgfId-4804705"></A>An alternative way to specify a mnemonic is to pass <EM CLASS="Variable">
mnemonic-text</EM>
. This is a string which provides the text for the button and also specifies the mnemonic character. <EM CLASS="Variable">
mnemonic-text</EM>
 and <EM CLASS="Variable">
mnemonic-escape</EM>
 are interpreted in just the same way as the <EM CLASS="Variable">
mnemonic-title</EM>
 and <EM CLASS="Variable">
mnemonic-escape </EM>
of <A HREF="capiref-245.htm#19220" CLASS="XRef">menu</A>.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-8925494"></A>Notes</H5>
<OL>
<LI CLASS="RStep-1">
<A NAME="pgfId-8925498"></A>The <A HREF="capiref-408.htm#40919" CLASS="XRef">simple-pane</A> initarg <EM CLASS="Variable">
foreground</EM>
 is not supported for buttons on Windows and Cocoa.</LI>
<LI CLASS="RStep">
<A NAME="pgfId-9131885"></A>The <EM CLASS="Variable">
disabled-image</EM>
, <EM CLASS="Variable">
armed-image</EM>
 and <EM CLASS="Variable">
selected-disabled-image</EM>
 will work on Microsoft Windows provided you are running with the themed look-and-feel (which is the default).  See &quot;Using Windows themes&quot; in the <I CLASS="Italic">
CAPI User Guide</I>
.</LI>
</OL>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-952593"></A>Example</H5>
<P CLASS="RBody">
<A NAME="pgfId-979174"></A>In the following example a button is created. Using the <CODE CLASS="Code">
button-enabled</CODE>
 accessor the button is then enabled and disabled.</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-4458958"></A>(setq button</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4458959"></A>      (capi:contain (make-instance </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4458960"></A>                     'capi:push-button</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4458961"></A>                     :text &quot;Press Me&quot;)))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4458962"></A>&nbsp;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4458963"></A>(capi:apply-in-pane-process</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4458964"></A> button #'(setf capi:button-enabled) nil button)</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4458965"></A>&nbsp;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-4458966"></A>(capi:apply-in-pane-process</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-885296"></A> button #'(setf capi:button-enabled) t button)</PRE>
<P CLASS="RBody">
<A NAME="pgfId-1814449"></A>In the next example a button with an image instead of text is created.</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-1819771"></A>(setq button</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1819772"></A>      (capi:contain </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1819773"></A>       (make-instance</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1819774"></A>        'capi:push-button</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1819775"></A>        :image </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1819776"></A>        (merge-pathnames  </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-1819777"></A>         &quot;capi/applications/images/info.bmp&quot;</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-1814453"></A>         (sys:lispworks-dir &quot;examples&quot;)))))</PRE>
<P CLASS="RBody">
<A NAME="pgfId-2284182"></A>The following examples illustrate mnemonics:</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-2284258"></A>(defun egg (&amp;rest ignore) </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284259"></A>  (declare (ignore ignore))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284260"></A>  (capi:display-message &quot;Egg&quot;))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2287828"></A>&nbsp;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284262"></A>(capi:contain </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284263"></A> (make-instance 'capi:push-button  </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284264"></A>                :selection-callback 'egg</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284265"></A>                :mnemonic-text &quot;Chicken &amp;&amp; Rice&quot;))</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2287834"></A>&nbsp;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284267"></A>(capi:contain </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284268"></A> (make-instance 'capi:push-button  </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284269"></A>                :data &quot;Chicken&quot;</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284270"></A>                :selection-callback 'egg</PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-2284271"></A>                :mnemonic #&#92;k))</PRE>
<P CLASS="RBody">
<A NAME="pgfId-2284273"></A>Compare this with the previous example: the <CODE CLASS="Code">
#&#92;k</CODE>
 does not appear and the <CODE CLASS="Code">
#&#92;e</CODE>
 becomes the mnemonic:</P>
<PRE CLASS="RCode-first"><A NAME="pgfId-2284275"></A>(capi:contain </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284276"></A> (make-instance 'capi:push-button  </PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284277"></A>                :selection-callback 'egg</PRE>
<PRE CLASS="RCode-body"><A NAME="pgfId-2284278"></A>                :mnemonic-escape  #&#92;k      </PRE>
<PRE CLASS="RCode-last"><A NAME="pgfId-2284279"></A>                :mnemonic-text &quot;Chicken&quot;))</PRE>
<P CLASS="RBody">
<A NAME="pgfId-3452300"></A>Also see the example in the directory <CODE CLASS="Code">
examples/capi/buttons/</CODE>
.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-885311"></A>See also</H5>
<P CLASS="RBody">
<A NAME="pgfId-885782"></A><A HREF="capiref-23.htm#40715" CLASS="XRef">button-panel</A><BR>
<A HREF="capiref-26.htm#13019" CLASS="XRef">callbacks</A></P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">CAPI Reference Manual - 15 Dec 2011</I></P>
<P><A HREF="capiref-23.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="capiref-21.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="capiref-4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="capiref.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="capiref-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="capiref-693.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
