<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="fli.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE>
 foreign-block-copy
</TITLE>

<LINK REL="next" HREF="fli-108.htm" TYPE="text/html">
<LINK REL="prev" HREF="fli-106.htm" TYPE="text/html">
<LINK REL="up" HREF="fli-70.htm" TYPE="text/html">
<LINK REL="top" HREF="fli.htm" TYPE="text/html">
<LINK REL="contents" HREF="fli-2.htm" TYPE="text/html">
<LINK REL="index" HREF="fli-216.htm" TYPE="text/html">
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV CLASS="HTMLBreadCrumbs"><A HREF="../../intro.htm">All Manuals</A> &gt; <A HREF="fli.htm">LispWorks Foreign Language Interface User Guide and Reference Manual</A> &gt; <A HREF="fli-70.htm">5 Function and Macro Reference</A><BR><BR>
</DIV><A HREF="fli-108.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="fli-106.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="fli-70.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="fli.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="fli-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="fli-216.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
<H4 CLASS="REntry">
<A NAME="pgfId-1532710"></A><A NAME="17204"></A>foreign<A NAME="marker-1532708"></A>-block-<A NAME="marker-1532709"></A>copy</H4>
<DIV>
<H5 CLASS="REntry-type">
<A NAME="pgfId-1532711"></A>Function</H5>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1532712"></A>Summary</H5>
<P CLASS="RBody">
<A NAME="pgfId-1532713"></A>Makes a copy of a foreign block, in LispWorks for Macintosh.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1555207"></A>Package</H5>
<P CLASS="RSignature">
<A NAME="pgfId-1555208"></A>fli</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1532714"></A>Signature</H5>
<P CLASS="RSignature">
<A NAME="pgfId-1532715"></A>foreign-block-copy <EM CLASS="Variable">
foreign-block</EM>
 =&gt; <EM CLASS="Variable">
new-foreign-block</EM>
</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1532716"></A>Arguments</H5>
<P CLASS="RDescription-Item">
<A NAME="pgfId-1532717"></A><EM CLASS="Variable">
foreign-block</EM>
</P>
<P CLASS="RDescription-C">A foreign block pointer.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1532718"></A>Results</H5>
<P CLASS="RBody">
<A NAME="pgfId-1532719"></A><EM CLASS="Variable">
new-foreign-block</EM>
	A foreign block pointer.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1532720"></A>Description</H5>
<P CLASS="RBody">
<A NAME="pgfId-1532721"></A>The function <CODE CLASS="Code">
foreign-block-copy</CODE>
 makes and returns a copy of the foreign block <EM CLASS="Variable">
foreign-block</EM>
. It corresponds to the C function <CODE CLASS="Code">
_Block_copy</CODE>
.</P>
<P CLASS="RBody">
<A NAME="pgfId-1532722"></A><EM CLASS="Variable">
foreign-block</EM>
 can be any foreign block.</P>
<P CLASS="RBody">
<A NAME="pgfId-1532723"></A>The result of the copy is another foreign block with an indefinite scope, which has the same attributes as <EM CLASS="Variable">
foreign-block</EM>
. In other words, invoking the copy invokes the same function.</P>
<P CLASS="RBody">
<A NAME="pgfId-1532724"></A>The new foreign block cannot be garbage collected. It should be freed when you are finished with it by <A HREF="fli-108.htm#10976" CLASS="XRef">foreign-block-release</A>.</P>
<P CLASS="RBody">
<A NAME="pgfId-1532728"></A><CODE CLASS="Code">
foreign-block-copy</CODE>
 is not expected to be commonly useful. You need it when you get passed block and you want to use it outside the scope of the call in which it was passed, unless it is documented that the block is global.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1532729"></A>Notes</H5>
<P CLASS="RBody">
<A NAME="pgfId-1532730"></A>If you use <EM CLASS="Variable">
new-foreign-block</EM>
 with a function that is documented to release the block, you must not call <A HREF="fli-108.htm#10976" CLASS="XRef">foreign-block-release</A> on it. However, we do not expect this situation to happen, because a proper interface will only free blocks that it allocates.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1532734"></A>Notes</H5>
<P CLASS="RBody">
<A NAME="pgfId-1532735"></A><CODE CLASS="Code">
foreign-block-copy</CODE>
 is implemented in LispWorks for Macintosh only.</P>
</DIV>
<DIV>
<H5 CLASS="REntry-head">
<A NAME="pgfId-1532736"></A>See also</H5>
<P CLASS="RBody">
<A NAME="pgfId-1532740"></A><A HREF="fli-108.htm#10976" CLASS="XRef">foreign-block-release</A><BR>
<A HREF="fli-64.htm#29000" CLASS="XRef">Block objects in C (foreign blocks)</A></P>
</DIV>
<HR>
<P CLASS="Copyrighttext-small"><I CLASS="Italic">LispWorks Foreign Language Interface User Guide and Reference Manual - 7 Dec 2011</I></P>
<P><A HREF="fli-108.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A><A HREF="fli-106.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Prev BORDER=0></A><A HREF="fli-70.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A><A HREF="fli.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A><A HREF="fli-2.htm"><IMG ALIGN=BOTTOM SRC=contents.gif ALT=Contents BORDER=0></A><A HREF="fli-216.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A>
</BODY>
</HTML>
